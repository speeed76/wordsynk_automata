[11:31:05] INFO     --- Starting Booking Crawler Application ---                                                                                                 
           INFO     Initializing Crawler Service...                                                                                                              
           INFO     Database connection established to: /Users/pawelgiers/development/wordsynk_automata/bookings.db                                              
           DEBUG    Enabled WAL journal mode.                                                                                                                    
           DEBUG    Table 'bookings' not found, creating now...                                                                                                  
           INFO     Table 'bookings' created successfully.                                                                                                       
           DEBUG    Table 'multiday_headers' not found, creating now...                                                                                          
           INFO     Table 'multiday_headers' created successfully.                                                                                               
           DEBUG    Table 'bookings_scrape' not found, creating now...                                                                                           
           INFO     Table 'bookings_scrape' created successfully.                                                                                                
           DEBUG    Table creation/check complete.                                                                                                               
           INFO     Database initialized.                                                                                                                        
           INFO     Attempting to start Appium session with pre-configured AppiumOptions...                                                                      
[11:31:09] INFO     Appium session started.                                                                                                                      
           INFO     Detected displays: {'hwc_display_0': '4619827259835644672'}                                                                                  
           INFO     Only one display detected (ID: 4619827259835644672). Using that.                                                                             
           INFO     Updating Appium settings to target display ID: 4619827259835644672                                                                           
           INFO     XML Dumper initialized. Dumps will be saved in: xml_capture_base                                                                             
           INFO     XML DUMP MODE IS ENABLED. XML files will be saved to 'xml_capture_base'                                                                      
           INFO     Page objects initialized.                                                                                                                    
           INFO     Created new scrape session 1                                                                                                                 
           INFO     State manager initialized. Session: 1, Current state: NAVIGATING_TO_LIST                                                                     
           INFO     Processors initialized.                                                                                                                      
           INFO     Crawler Service initialized successfully.                                                                                                    
           INFO     Starting crawler run loop (targeting display: 4619827259835644672)...                                                                        
           INFO     --- Executing State: NAVIGATING_TO_LIST (Fresh List View Flag for LIST state: N/A) ---                                                       
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: None)                                                                
           INFO     Successfully navigated to list page.                                                                                                         
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113109_373225.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00321853): Extracted MJA ID. Original full desc: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00321853): Parts after MJA ID: ['WN4 8SH', '14:30 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00321853): Found Duration in part '14:30 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00321853): Found Postcode in part 'WN4 8SH' -> WN4 8SH                                                                         
           DEBUG    MJA Parse (MJA00321853): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00321853): Final parsed data: {'booking_id': 'MJA00321853', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'WN4 8SH', 'start_time_raw': '14:30', 'end_time_raw': '16:00', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:30 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00321853, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00300916): Extracted MJA ID. Original full desc: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00300916): Parts after MJA ID: ['CH7 1AE', '09:30 to 11:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00300916): Found Duration in part '09:30 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00300916): Found Postcode in part 'CH7 1AE' -> CH7 1AE                                                                         
           DEBUG    MJA Parse (MJA00300916): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00300916): Final parsed data: {'booking_id': 'MJA00300916', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'CH7 1AE', 'start_time_raw': '09:30', 'end_time_raw': '11:30', 'calculated_duration_str': '02:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00300916, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00306282): Extracted MJA ID. Original full desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00306282): Parts after MJA ID: ['BD1 1LA', '09:30 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00306282): Found Duration in part '09:30 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00306282): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00306282): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00306282): Final parsed data: {'booking_id': 'MJA00306282', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '17:00', 'calculated_duration_str': '07:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00306282, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00309647): Extracted MJA ID. Original full desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00309647): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00309647): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00309647): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00309647): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00309647): Final parsed data: {'booking_id': 'MJA00309647', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00309647, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00321853: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00321853 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00300916: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00300916 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00306282: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00306282 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00309647: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00309647 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 4 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=776, h=464: FullyVis=True (Bounds:449-2543)                                                                
[11:31:10] DEBUG    Visibility check for element at y=1321, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=1939, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2556, h=200: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00309647 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00300916 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00300916 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00300916, MJR: None, LastProcMJA: MJA00300916)                                             
           INFO     Attempting click on selected card MJA00300916                                                                                                
           INFO     Clicked card MJA00300916                                                                                                                     
[11:31:11] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:31:12] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00300916)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00225953, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00225953                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00237288                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00237288', 'mjr_id_raw': 'MJR00225953', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJA00300916/Secondary/Secondary_MJA00300916_MJB00237288_20250518_113112_581828.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00237288, MJR: MJR00225953, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00300916                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00225953")]      
           DEBUG    Clicked MJR link element for MJR00225953.                                                                                                    
[11:31:14] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00300916, MJR: MJR00225953, LastProcMJA: MJA00300916)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00300916, MJR: MJR00225953)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:31:15] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00225953                                                                                    
           DEBUG    Header Results: MJR='MJR00225953', Total='£ 108.17', MultiDay=False, LangIdx=4, DateTimeTuple='('19-05-2025 At', '09:30 - 11:30')'           
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00225953'                                                                                        
           INFO     Saved XML dump: xml_capture_base/MJR00225953/Detail_MJR/Detail_MJR_MJR00225953_initial_view_00_20250518_113115_969253.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ['Mold Crown Court', 'Mold Crown Court', 'County Civic Centre Mold Wales CH7 1AE', 'Crime
                    - Crown Court | Sentence', 'Sophie Edwards', '01352 707340', '82.38 Miles']                                                                  
           DEBUG      Client Name: 'Mold Crown Court'                                                                                                            
           DEBUG      Address L1: 'Mold Crown Court', L2: 'County Civic Centre Mold Wales CH7 1AE'                                                               
           DEBUG      Booking Type: 'Crime - Crown Court | Sentence'                                                                                             
           DEBUG      Contact Name: 'Sophie Edwards'                                                                                                             
           DEBUG      Contact Phone: '01352 707340'                                                                                                              
           DEBUG      Distance: '82.38 Miles'                                                                                                                    
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Mold Crown Court', 'address_line1_raw': 'Mold    
                    Crown Court', 'address_line2_raw': 'County Civic Centre Mold Wales CH7 1AE', 'booking_type_raw': 'Crime - Crown Court | Sentence',           
                    'contact_name_raw': 'Sophie Edwards', 'contact_phone_raw': '01352 707340', 'distance_raw': '82.38 Miles', 'meeting_link_raw': None}          
           INFO     Starting scroll loop for payments...                                                                                                         
[11:31:16] DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00300916                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 108.17): {'is_multiday': 0, 'mjr_id': 'MJR00225953', 'header_total': 108.17, 'booking_date': '19-05-2025',     
                    'start_time': '09:30:00', 'end_time': '11:30:00', 'duration': '02:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Mold Crown Court', 'booking_type': 'Crime - Crown Court | Sentence', 'contact_name':   
                    'Sophie Edwards', 'contact_phone': '01352 707340', 'meeting_link': None, 'address': 'Mold Crown Court\nCounty Civic Centre Mold Wales CH7    
                    1AE', 'travel_distance': 82.38, 'overall_total': 108.17, 'multiday_payments': None, 'mja_id': 'MJA00300916', 'day_pay_sl': 52.0,             
                    'day_pay_td': 30.96, 'day_pay_tt': 10.21, 'day_pay_aep': 15.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 108.17, 'notes':       
                    None}...                                                                                                                                     
           INFO     Processing SINGLE DAY save for MJA: MJA00300916 (MJR: MJR00225953)                                                                           
           INFO     Saved/Updated details for booking MJA00300916                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:31:17] DEBUG    Executing second back() command.                                                                                                             
[11:31:19] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00300916)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113119_940275.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
[11:31:20] DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00321853): Extracted MJA ID. Original full desc: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00321853): Parts after MJA ID: ['WN4 8SH', '14:30 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00321853): Found Duration in part '14:30 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00321853): Found Postcode in part 'WN4 8SH' -> WN4 8SH                                                                         
           DEBUG    MJA Parse (MJA00321853): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00321853): Final parsed data: {'booking_id': 'MJA00321853', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'WN4 8SH', 'start_time_raw': '14:30', 'end_time_raw': '16:00', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:30 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00321853, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00300916): Extracted MJA ID. Original full desc: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00300916): Parts after MJA ID: ['CH7 1AE', '09:30 to 11:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00300916): Found Duration in part '09:30 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00300916): Found Postcode in part 'CH7 1AE' -> CH7 1AE                                                                         
           DEBUG    MJA Parse (MJA00300916): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00300916): Final parsed data: {'booking_id': 'MJA00300916', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'CH7 1AE', 'start_time_raw': '09:30', 'end_time_raw': '11:30', 'calculated_duration_str': '02:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00300916, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00306282): Extracted MJA ID. Original full desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00306282): Parts after MJA ID: ['BD1 1LA', '09:30 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00306282): Found Duration in part '09:30 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00306282): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00306282): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00306282): Final parsed data: {'booking_id': 'MJA00306282', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '17:00', 'calculated_duration_str': '07:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00306282, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00309647): Extracted MJA ID. Original full desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00309647): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00309647): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00309647): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00309647): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00309647): Final parsed data: {'booking_id': 'MJA00309647', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00309647, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00321853: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00321853 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00300916: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00300916 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1321, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00306282: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00306282 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00309647: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00309647 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=776, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Visibility check for element at y=1939, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2556, h=200: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00309647 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00321853 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00321853 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00321853, MJR: None, LastProcMJA: MJA00321853)                                             
           INFO     Attempting click on selected card MJA00321853                                                                                                
           INFO     Clicked card MJA00321853                                                                                                                     
[11:31:22] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00321853)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00243420, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00243420                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00255317                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00255317', 'mjr_id_raw': 'MJR00243420', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJA00321853/Secondary/Secondary_MJA00321853_MJB00255317_20250518_113122_742072.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00255317, MJR: MJR00243420, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00321853                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00243420")]      
           DEBUG    Clicked MJR link element for MJR00243420.                                                                                                    
[11:31:24] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00321853, MJR: MJR00243420, LastProcMJA: MJA00321853)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00321853, MJR: MJR00243420)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:31:25] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00243420                                                                                    
[11:31:26] DEBUG    Header Results: MJR='MJR00243420', Total='£ 62.19', MultiDay=False, LangIdx=4, DateTimeTuple='('19-05-2025 At', '14:30 - 16:00')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00243420'                                                                                        
           INFO     Saved XML dump: xml_capture_base/MJR00243420/Detail_MJR/Detail_MJR_MJR00243420_initial_view_00_20250518_113126_078784.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ['Cafcass Manchester (132)', '212 Bolton Road', 'Wigan England WN4 8SH', 'Cafcass |      
                    Interview', 'Claire Halstead', '07785 571035', '46.81 Miles']                                                                                
           DEBUG      Client Name: 'Cafcass Manchester (132)'                                                                                                    
           DEBUG      Address L1: '212 Bolton Road', L2: 'Wigan England WN4 8SH'                                                                                 
           DEBUG      Booking Type: 'Cafcass | Interview'                                                                                                        
           DEBUG      Contact Name: 'Claire Halstead'                                                                                                            
           DEBUG      Contact Phone: '07785 571035'                                                                                                              
           DEBUG      Distance: '46.81 Miles'                                                                                                                    
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Cafcass Manchester (132)', 'address_line1_raw':  
                    '212 Bolton Road', 'address_line2_raw': 'Wigan England WN4 8SH', 'booking_type_raw': 'Cafcass | Interview', 'contact_name_raw': 'Claire      
                    Halstead', 'contact_phone_raw': '07785 571035', 'distance_raw': '46.81 Miles', 'meeting_link_raw': None}                                     
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00321853                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 62.19): {'is_multiday': 0, 'mjr_id': 'MJR00243420', 'header_total': 62.19, 'booking_date': '19-05-2025',       
                    'start_time': '14:30:00', 'end_time': '16:00:00', 'duration': '01:30', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Cafcass Manchester (132)', 'booking_type': 'Cafcass | Interview', 'contact_name':      
                    'Claire Halstead', 'contact_phone': '07785 571035', 'meeting_link': None, 'address': '212 Bolton Road\nWigan England WN4 8SH',               
                    'travel_distance': 46.81, 'overall_total': 62.19, 'multiday_payments': None, 'mja_id': 'MJA00321853', 'day_pay_sl': 30.0, 'day_pay_td':      
                    16.72, 'day_pay_tt': 0.47, 'day_pay_aep': 15.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 62.19, 'notes': None}...              
           INFO     Processing SINGLE DAY save for MJA: MJA00321853 (MJR: MJR00243420)                                                                           
           INFO     Saved/Updated details for booking MJA00321853                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:31:27] DEBUG    Executing second back() command.                                                                                                             
[11:31:29] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00321853)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
[11:31:30] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113130_011375.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00321853): Extracted MJA ID. Original full desc: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00321853): Parts after MJA ID: ['WN4 8SH', '14:30 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00321853): Found Duration in part '14:30 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00321853): Found Postcode in part 'WN4 8SH' -> WN4 8SH                                                                         
           DEBUG    MJA Parse (MJA00321853): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00321853): Final parsed data: {'booking_id': 'MJA00321853', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'WN4 8SH', 'start_time_raw': '14:30', 'end_time_raw': '16:00', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:30 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00321853, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00300916): Extracted MJA ID. Original full desc: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00300916): Parts after MJA ID: ['CH7 1AE', '09:30 to 11:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00300916): Found Duration in part '09:30 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00300916): Found Postcode in part 'CH7 1AE' -> CH7 1AE                                                                         
           DEBUG    MJA Parse (MJA00300916): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00300916): Final parsed data: {'booking_id': 'MJA00300916', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'CH7 1AE', 'start_time_raw': '09:30', 'end_time_raw': '11:30', 'calculated_duration_str': '02:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00300916, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00306282): Extracted MJA ID. Original full desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00306282): Parts after MJA ID: ['BD1 1LA', '09:30 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00306282): Found Duration in part '09:30 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00306282): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00306282): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00306282): Final parsed data: {'booking_id': 'MJA00306282', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '17:00', 'calculated_duration_str': '07:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00306282, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00309647): Extracted MJA ID. Original full desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00309647): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00309647): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00309647): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00309647): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00309647): Final parsed data: {'booking_id': 'MJA00309647', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00309647, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00321853: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00321853 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=776, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00300916: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00300916 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1321, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00306282: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00306282 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00309647: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00309647 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1939, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2556, h=200: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00309647 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00306282 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00306282 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00306282, MJR: None, LastProcMJA: MJA00306282)                                             
           INFO     Attempting click on selected card MJA00306282                                                                                                
           INFO     Clicked card MJA00306282                                                                                                                     
[11:31:32] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00306282)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00230541, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00230541                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00241981                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00241981', 'mjr_id_raw': 'MJR00230541', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJA00306282/Secondary/Secondary_MJA00306282_MJB00241981_20250518_113132_755673.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00241981, MJR: MJR00230541, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00306282                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00230541")]      
           DEBUG    Clicked MJR link element for MJR00230541.                                                                                                    
[11:31:34] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00306282, MJR: MJR00230541, LastProcMJA: MJA00306282)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00306282, MJR: MJR00230541)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:31:35] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00230541                                                                                    
[11:31:36] DEBUG    Header Results: MJR='MJR00230541', Total='£ 192.32', MultiDay=False, LangIdx=4, DateTimeTuple='('20-05-2025 At', '09:30 - 17:00')'           
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00230541'                                                                                        
           INFO     Saved XML dump: xml_capture_base/MJR00230541/Detail_MJR/Detail_MJR_MJR00230541_initial_view_00_20250518_113136_073938.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ["Bradford Magistrates' Court - Crime", "Bradford Magistrates' Court", 'The Tyrls The    
                    Tyrls Bradford England BD1 1LA', "Crime - Magistrates' Court | Trial", 'Damita West', '0', '5.79 Miles']                                     
           DEBUG      Client Name: 'Bradford Magistrates' Court - Crime'                                                                                         
           DEBUG      Address L1: 'Bradford Magistrates' Court', L2: 'The Tyrls The Tyrls Bradford England BD1 1LA'                                              
           DEBUG      Booking Type: 'Crime - Magistrates' Court | Trial'                                                                                         
           DEBUG      Contact Name: 'Damita West'                                                                                                                
           DEBUG      Contact Phone: '0'                                                                                                                         
           DEBUG      Distance: '5.79 Miles'                                                                                                                     
           DEBUG    Sanitized 'contact_phone_raw' from '0' to None.                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': "Bradford Magistrates' Court - Crime",            
                    'address_line1_raw': "Bradford Magistrates' Court", 'address_line2_raw': 'The Tyrls The Tyrls Bradford England BD1 1LA', 'booking_type_raw': 
                    "Crime - Magistrates' Court | Trial", 'contact_name_raw': 'Damita West', 'contact_phone_raw': None, 'distance_raw': '5.79 Miles',            
                    'meeting_link_raw': None}                                                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00306282                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:31:39] INFO     Saved XML dump: xml_capture_base/MJR00230541/Detail_MJR/Detail_MJR_MJR00230541_scroll_01_20250518_113139_463047.xml                          
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00230541/Detail_MJR/Detail_MJR_MJR00230541_final_view_01_20250518_113139_590348.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 192.32): {'is_multiday': 0, 'mjr_id': 'MJR00230541', 'header_total': 192.32, 'booking_date': '20-05-2025',     
                    'start_time': '09:30:00', 'end_time': '17:00:00', 'duration': '07:30', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': "Bradford Magistrates' Court - Crime", 'booking_type': "Crime - Magistrates' Court |    
                    Trial", 'contact_name': 'Damita West', 'contact_phone': None, 'meeting_link': None, 'address': "Bradford Magistrates' Court\nThe Tyrls The   
                    Tyrls Bradford England BD1 1LA", 'travel_distance': 5.79, 'overall_total': 192.32, 'multiday_payments': None, 'mja_id': 'MJA00306282',       
                    'day_pay_sl': 182.0, 'day_pay_td': 0.32, 'day_pay_tt': None, 'day_pay_aep': 10.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total':     
                    192.32, 'notes': "20 May 2025\nHearing type: Trial\nHearing venue: Bradford Magistrates' Court, Courtroom 03, 10:00 AM"}...                  
           INFO     Processing SINGLE DAY save for MJA: MJA00306282 (MJR: MJR00230541)                                                                           
           INFO     Saved/Updated details for booking MJA00306282                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:31:40] DEBUG    Executing second back() command.                                                                                                             
[11:31:42] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00306282)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:31:43] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113143_277344.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00321853): Extracted MJA ID. Original full desc: 'MJA00321853, WN4 8SH, 14:30 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00321853): Parts after MJA ID: ['WN4 8SH', '14:30 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00321853): Found Duration in part '14:30 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00321853): Found Postcode in part 'WN4 8SH' -> WN4 8SH                                                                         
           DEBUG    MJA Parse (MJA00321853): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00321853): Final parsed data: {'booking_id': 'MJA00321853', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'WN4 8SH', 'start_time_raw': '14:30', 'end_time_raw': '16:00', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:30 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00321853, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00300916): Extracted MJA ID. Original full desc: 'MJA00300916, CH7 1AE, 09:30 to 11:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00300916): Parts after MJA ID: ['CH7 1AE', '09:30 to 11:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00300916): Found Duration in part '09:30 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00300916): Found Postcode in part 'CH7 1AE' -> CH7 1AE                                                                         
           DEBUG    MJA Parse (MJA00300916): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00300916): Final parsed data: {'booking_id': 'MJA00300916', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'CH7 1AE', 'start_time_raw': '09:30', 'end_time_raw': '11:30', 'calculated_duration_str': '02:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00300916, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00306282): Extracted MJA ID. Original full desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00306282): Parts after MJA ID: ['BD1 1LA', '09:30 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00306282): Found Duration in part '09:30 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00306282): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00306282): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00306282): Final parsed data: {'booking_id': 'MJA00306282', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '17:00', 'calculated_duration_str': '07:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00306282, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00309647): Extracted MJA ID. Original full desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00309647): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00309647): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00309647): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00309647): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00309647): Final parsed data: {'booking_id': 'MJA00309647', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00309647, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00321853: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00321853 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=776, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00300916: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00300916 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1321, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00306282: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00306282 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1939, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00309647: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00309647 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2556, h=200: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00309647 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00306282' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00306282 to use as scroll anchor.                                                                                
[11:31:45] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00016451 with percent: 0.6                                                             
[11:31:46] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113146_499651.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:31:47] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:31:49] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00306282)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:31:50] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00306282): Extracted MJA ID. Original full desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00306282): Parts after MJA ID: ['BD1 1LA', '09:30 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00306282): Found Duration in part '09:30 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00306282): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00306282): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00306282): Final parsed data: {'booking_id': 'MJA00306282', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '17:00', 'calculated_duration_str': '07:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00306282, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00309647): Extracted MJA ID. Original full desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00309647): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00309647): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00309647): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00309647): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00309647): Final parsed data: {'booking_id': 'MJA00309647', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00309647, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00218128): Extracted MJA ID. Original full desc: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00218128): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00218128): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00218128): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00218128): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00218128): Final parsed data: {'booking_id': 'MJA00218128', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00218128, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                  
           INFO     MJA Parse: Found card status 'Viewed' (Prefix: 'Viewed,'). Remaining desc for MJA ID: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to      
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00323444): Extracted MJA ID. Original full desc: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'             
           DEBUG    MJA Parse (MJA00323444): Parts after MJA ID: ['BD1 1LB', '09:30 to 10:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00323444): Found Duration in part '09:30 to 10:00'                                                                             
           DEBUG    MJA Parse (MJA00323444): Found Postcode in part 'BD1 1LB' -> BD1 1LB                                                                         
           DEBUG    MJA Parse (MJA00323444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00323444): Final parsed data: {'booking_id': 'MJA00323444', 'card_status': <BookingCardStatus.VIEWED: 'Viewed'>, 'postcode':   
                    'BD1 1LB', 'start_time_raw': '09:30', 'end_time_raw': '10:00', 'calculated_duration_str': '00:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 10:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00323444, Status: Viewed                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00306282: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00306282 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=749, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00309647: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00309647 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00218128: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00218128 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00323444: Parsed card_status_enum: Viewed                                                                                            
           INFO     Booking MJA00323444 is 'Viewed'. Skipping full scrape.                                                                                       
           WARNING  Booking MJA00323444 not found to update status to 'skipped_offer_viewed'.                                                                    
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1366, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=1984, h=464: FullyVis=True (Bounds:449-2543)                                                               
           INFO     Selected card MJA00309647 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00309647 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00309647, MJR: None, LastProcMJA: MJA00309647)                                             
           INFO     Attempting click on selected card MJA00309647                                                                                                
           INFO     Clicked card MJA00309647                                                                                                                     
[11:31:52] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00309647)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00233330, Video Remote Interpreting, Appointments : 1"                                                         
           DEBUG        Extracted MJR ID: MJR00233330                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00244876                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00244876', 'mjr_id_raw': 'MJR00233330', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJA00309647/Secondary/Secondary_MJA00309647_MJB00244876_20250518_113152_820617.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00244876, MJR: MJR00233330, Appt Count: 1, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00309647                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00233330")]      
           DEBUG    Clicked MJR link element for MJR00233330.                                                                                                    
[11:31:54] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00309647, MJR: MJR00233330, LastProcMJA: MJA00309647)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00309647, MJR: MJR00233330)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:31:56] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00233330                                                                                    
           DEBUG    Header Results: MJR='MJR00233330', Total='£ 44.00', MultiDay=False, LangIdx=4, DateTimeTuple='('21-05-2025 At', '11:00 - 12:00')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00233330'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00233330                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00233330/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00233330/Detail_MJR/Detail_MJR_MJR00233330_initial_view_00_20250518_113156_122229.xml                    
           DEBUG    Info block scan range: 5 to 10. Processing 5 items: ['Bradford & Calderdale (TPS)', 'Meeting Link', 'NPS | Face to Face Interviews which take
                    place within custodial', 'undefined undefined', 'undefined']                                                                                 
           DEBUG      Client Name: 'Bradford & Calderdale (TPS)'                                                                                                 
           DEBUG      Found 'Meeting Link'.                                                                                                                      
           DEBUG      No valid URL after Meeting Link label. Next: NPS | Face to Face Interviews which take place within custodial                               
           DEBUG      Booking Type: 'NPS | Face to Face Interviews which take place within custodial'                                                            
           DEBUG      Contact Name: 'undefined undefined'                                                                                                        
           DEBUG      Contact Phone: 'undefined'                                                                                                                 
           DEBUG    Sanitized 'contact_name_raw' from 'undefined undefined' to None.                                                                             
           DEBUG    Sanitized 'contact_phone_raw' from 'undefined' to None.                                                                                      
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Bradford & Calderdale (TPS)',                    
                    'address_line1_raw': None, 'address_line2_raw': None, 'booking_type_raw': 'NPS | Face to Face Interviews which take place within custodial', 
                    'contact_name_raw': None, 'contact_phone_raw': None, 'distance_raw': None, 'meeting_link_raw': None}                                         
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00309647                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:31:59] INFO     Saved XML dump: xml_capture_base/MJR00233330/Detail_MJR/Detail_MJR_MJR00233330_scroll_01_20250518_113159_486079.xml                          
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00233330/Detail_MJR/Detail_MJR_MJR00233330_final_view_01_20250518_113159_591353.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           INFO     Extracted meeting link from notes: vcchmpleeds4@meet.video.justice.gov.uk                                                                    
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 44.0): {'is_multiday': 0, 'mjr_id': 'MJR00233330', 'header_total': 44.0, 'booking_date': '21-05-2025',         
                    'start_time': '11:00:00', 'end_time': '12:00:00', 'duration': '01:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Bradford & Calderdale (TPS)', 'booking_type': 'NPS | Face to Face Interviews which take
                    place within custodial', 'contact_name': None, 'contact_phone': None, 'meeting_link': 'vcchmpleeds4@meet.video.justice.gov.uk', 'address':   
                    None, 'travel_distance': None, 'overall_total': 44.0, 'multiday_payments': None, 'mja_id': 'MJA00309647', 'day_pay_sl': 24.0, 'day_pay_td':  
                    None, 'day_pay_tt': None, 'day_pay_aep': 20.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 44.0, 'notes': 'VIDEO LINK IS ONLY FOR 
                    PROFESSIONAL VISITS. NO FAMILY, NO FRIENDS AND NO CHILDERN ARE ALLOWED ON THE LINK.\nPHOTO ID MUST BE SHOWN WHEN JOINING THE LINK.\nALL      
                    ATTENDING THE LINK MUST BE IN A SECURE LOCATION.\nFAILURE TO COMPLY COU...                                                                   
           INFO     Processing SINGLE DAY save for MJA: MJA00309647 (MJR: MJR00233330)                                                                           
           INFO     Saved/Updated details for booking MJA00309647                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:32:00] DEBUG    Executing second back() command.                                                                                                             
[11:32:02] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00309647)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:32:03] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113203_327770.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00306282): Extracted MJA ID. Original full desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00306282): Parts after MJA ID: ['BD1 1LA', '09:30 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00306282): Found Duration in part '09:30 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00306282): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00306282): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00306282): Final parsed data: {'booking_id': 'MJA00306282', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '17:00', 'calculated_duration_str': '07:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00306282, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00309647): Extracted MJA ID. Original full desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00309647): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00309647): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00309647): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00309647): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00309647): Final parsed data: {'booking_id': 'MJA00309647', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00309647, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00218128): Extracted MJA ID. Original full desc: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00218128): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00218128): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00218128): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00218128): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00218128): Final parsed data: {'booking_id': 'MJA00218128', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00218128, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                  
           INFO     MJA Parse: Found card status 'Viewed' (Prefix: 'Viewed,'). Remaining desc for MJA ID: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to      
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00323444): Extracted MJA ID. Original full desc: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'             
           DEBUG    MJA Parse (MJA00323444): Parts after MJA ID: ['BD1 1LB', '09:30 to 10:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00323444): Found Duration in part '09:30 to 10:00'                                                                             
           DEBUG    MJA Parse (MJA00323444): Found Postcode in part 'BD1 1LB' -> BD1 1LB                                                                         
           DEBUG    MJA Parse (MJA00323444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00323444): Final parsed data: {'booking_id': 'MJA00323444', 'card_status': <BookingCardStatus.VIEWED: 'Viewed'>, 'postcode':   
                    'BD1 1LB', 'start_time_raw': '09:30', 'end_time_raw': '10:00', 'calculated_duration_str': '00:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 10:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00323444, Status: Viewed                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00306282: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00306282 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=749, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00309647: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00309647 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1366, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00218128: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00218128 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00323444: Parsed card_status_enum: Viewed                                                                                            
           DEBUG    Card MJA00323444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=2602, h=154: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1984, h=464: FullyVis=True (Bounds:449-2543)                                                               
           INFO     Selected card MJA00218128 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00218128 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00218128, MJR: None, LastProcMJA: MJA00218128)                                             
           INFO     Attempting click on selected card MJA00218128                                                                                                
           INFO     Clicked card MJA00218128                                                                                                                     
[11:32:05] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00218128)                                                                  
[11:32:06] DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00158465, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00158465                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00165492                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00165492', 'mjr_id_raw': 'MJR00158465', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00218128                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00218128/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00218128/Secondary/Secondary_MJA00218128_MJB00165492_20250518_113206_294455.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00165492, MJR: MJR00158465, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00218128                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00158465")]      
           DEBUG    Clicked MJR link element for MJR00158465.                                                                                                    
[11:32:07] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00218128, MJR: MJR00158465, LastProcMJA: MJA00218128)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:32:08] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00218128, MJR: MJR00158465)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:32:09] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00158465                                                                                    
           DEBUG    Header Results: MJR='MJR00158465', Total='£ 154.95', MultiDay=False, LangIdx=4, DateTimeTuple='('22-05-2025 At', '10:00 - 16:00')'           
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00158465'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00158465                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00158465/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00158465/Detail_MJR/Detail_MJR_MJR00158465_initial_view_00_20250518_113209_705612.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ['Leeds Combined Court - Crown Court', 'Leeds Combined Court Centre', '1 Oxford Row Leeds
                    England LS1 3BG', 'Crime - Crown Court | Trial', 'Holly Irving', 'null', '9.87 Miles']                                                       
           DEBUG      Client Name: 'Leeds Combined Court - Crown Court'                                                                                          
           DEBUG      Address L1: 'Leeds Combined Court Centre', L2: '1 Oxford Row Leeds England LS1 3BG'                                                        
           DEBUG      Booking Type: 'Crime - Crown Court | Trial'                                                                                                
           DEBUG      Contact Name: 'Holly Irving'                                                                                                               
           DEBUG      Contact Phone: 'null'                                                                                                                      
           DEBUG      Distance: '9.87 Miles'                                                                                                                     
           DEBUG    Sanitized 'contact_phone_raw' from 'null' to None.                                                                                           
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Leeds Combined Court - Crown Court',             
                    'address_line1_raw': 'Leeds Combined Court Centre', 'address_line2_raw': '1 Oxford Row Leeds England LS1 3BG', 'booking_type_raw': 'Crime -  
                    Crown Court | Trial', 'contact_name_raw': 'Holly Irving', 'contact_phone_raw': None, 'distance_raw': '9.87 Miles', 'meeting_link_raw': None} 
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00218128                                                                                                           
[11:32:10] DEBUG    Scrolling detail page...                                                                                                                     
[11:32:13] INFO     Saved XML dump: xml_capture_base/MJR00158465/Detail_MJR/Detail_MJR_MJR00158465_scroll_01_20250518_113213_079302.xml                          
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00158465/Detail_MJR/Detail_MJR_MJR00158465_final_view_01_20250518_113213_207668.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 154.95): {'is_multiday': 0, 'mjr_id': 'MJR00158465', 'header_total': 154.95, 'booking_date': '22-05-2025',     
                    'start_time': '10:00:00', 'end_time': '16:00:00', 'duration': '06:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Leeds Combined Court - Crown Court', 'booking_type': 'Crime - Crown Court | Trial',    
                    'contact_name': 'Holly Irving', 'contact_phone': None, 'meeting_link': None, 'address': 'Leeds Combined Court Centre\n1 Oxford Row Leeds     
                    England LS1 3BG', 'travel_distance': 9.87, 'overall_total': 154.95, 'multiday_payments': None, 'mja_id': 'MJA00218128', 'day_pay_sl': 143.0, 
                    'day_pay_td': 1.95, 'day_pay_tt': None, 'day_pay_aep': 10.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 154.95, 'notes': 'Please 
                    report to the courtroom at the start of the hearing and at the end ask the court clerk to complete your timesheet then bring this up to the  
                    first floor enquiries counter.'}...                                                                                                          
           INFO     Processing SINGLE DAY save for MJA: MJA00218128 (MJR: MJR00158465)                                                                           
           INFO     Saved/Updated details for booking MJA00218128                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:32:14] DEBUG    Executing second back() command.                                                                                                             
[11:32:16] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00218128)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113216_892259.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
[11:32:17] DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00306282): Extracted MJA ID. Original full desc: 'MJA00306282, BD1 1LA, 09:30 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00306282): Parts after MJA ID: ['BD1 1LA', '09:30 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00306282): Found Duration in part '09:30 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00306282): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00306282): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00306282): Final parsed data: {'booking_id': 'MJA00306282', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '17:00', 'calculated_duration_str': '07:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00306282, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00309647): Extracted MJA ID. Original full desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00309647): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00309647): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00309647): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00309647): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00309647): Final parsed data: {'booking_id': 'MJA00309647', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00309647, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00218128): Extracted MJA ID. Original full desc: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00218128): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00218128): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00218128): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00218128): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00218128): Final parsed data: {'booking_id': 'MJA00218128', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00218128, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                  
           INFO     MJA Parse: Found card status 'Viewed' (Prefix: 'Viewed,'). Remaining desc for MJA ID: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to      
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00323444): Extracted MJA ID. Original full desc: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'             
           DEBUG    MJA Parse (MJA00323444): Parts after MJA ID: ['BD1 1LB', '09:30 to 10:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00323444): Found Duration in part '09:30 to 10:00'                                                                             
           DEBUG    MJA Parse (MJA00323444): Found Postcode in part 'BD1 1LB' -> BD1 1LB                                                                         
           DEBUG    MJA Parse (MJA00323444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00323444): Final parsed data: {'booking_id': 'MJA00323444', 'card_status': <BookingCardStatus.VIEWED: 'Viewed'>, 'postcode':   
                    'BD1 1LB', 'start_time_raw': '09:30', 'end_time_raw': '10:00', 'calculated_duration_str': '00:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 10:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00323444, Status: Viewed                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00306282: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00306282 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=749, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00309647: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00309647 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1366, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00218128: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00218128 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1984, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00323444: Parsed card_status_enum: Viewed                                                                                            
           DEBUG    Card MJA00323444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=2602, h=154: FullyVis=False (Bounds:449-2543)                                                              
           INFO     Found 0 'Normal' unprocessed cards for potential click.                                                                                      
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00218128' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00218128 to use as scroll anchor.                                                                                
[11:32:18] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff000167ef with percent: 0.6                                                             
[11:32:19] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113219_991399.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:32:20] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:32:22] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00218128)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:32:23] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00309647, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00309647): Extracted MJA ID. Original full desc: 'MJA00309647, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00309647): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00309647): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00309647): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00309647): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00309647): Final parsed data: {'booking_id': 'MJA00309647', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00309647, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00218128): Extracted MJA ID. Original full desc: 'MJA00218128, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00218128): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00218128): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00218128): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00218128): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00218128): Final parsed data: {'booking_id': 'MJA00218128', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00218128, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                  
           INFO     MJA Parse: Found card status 'Viewed' (Prefix: 'Viewed,'). Remaining desc for MJA ID: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to      
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00323444): Extracted MJA ID. Original full desc: 'Viewed, MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'             
           DEBUG    MJA Parse (MJA00323444): Parts after MJA ID: ['BD1 1LB', '09:30 to 10:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00323444): Found Duration in part '09:30 to 10:00'                                                                             
           DEBUG    MJA Parse (MJA00323444): Found Postcode in part 'BD1 1LB' -> BD1 1LB                                                                         
           DEBUG    MJA Parse (MJA00323444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00323444): Final parsed data: {'booking_id': 'MJA00323444', 'card_status': <BookingCardStatus.VIEWED: 'Viewed'>, 'postcode':   
                    'BD1 1LB', 'start_time_raw': '09:30', 'end_time_raw': '10:00', 'calculated_duration_str': '00:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 10:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00323444, Status: Viewed                                                                                        
           DEBUG    Processing content-desc: 'MJA00317866, 10:00 to 12:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00317866, 10:00 to 12:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00317866): Extracted MJA ID. Original full desc: 'MJA00317866, 10:00 to 12:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00317866): Parts after MJA ID: ['10:00 to 12:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00317866): Found Duration in part '10:00 to 12:30'                                                                             
           DEBUG    MJA Parse (MJA00317866): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00317866): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00317866): Final parsed data: {'booking_id': 'MJA00317866', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '12:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 12:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00317866, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00309647: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00309647 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=165: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00218128: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00218128 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=982, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00323444: Parsed card_status_enum: Viewed                                                                                            
           DEBUG    Card MJA00323444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1600, h=465: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00317866: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00317866 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2145, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00317866 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00323444' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00323444 to use as scroll anchor.                                                                                
[11:32:24] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff000167fc with percent: 0.6                                                             
[11:32:26] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113226_315708.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:32:28] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00218128)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:32:29] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00323444): Extracted MJA ID. Original full desc: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00323444): Parts after MJA ID: ['BD1 1LB', '09:30 to 10:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00323444): Found Duration in part '09:30 to 10:00'                                                                             
           DEBUG    MJA Parse (MJA00323444): Found Postcode in part 'BD1 1LB' -> BD1 1LB                                                                         
           DEBUG    MJA Parse (MJA00323444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00323444): Final parsed data: {'booking_id': 'MJA00323444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LB', 'start_time_raw': '09:30', 'end_time_raw': '10:00', 'calculated_duration_str': '00:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 10:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00323444, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00317866, 10:00 to 12:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00317866, 10:00 to 12:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00317866): Extracted MJA ID. Original full desc: 'MJA00317866, 10:00 to 12:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00317866): Parts after MJA ID: ['10:00 to 12:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00317866): Found Duration in part '10:00 to 12:30'                                                                             
           DEBUG    MJA Parse (MJA00317866): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00317866): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00317866): Final parsed data: {'booking_id': 'MJA00317866', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '12:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 12:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00317866, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285172): Extracted MJA ID. Original full desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285172): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285172): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285172): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285172): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285172): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285172): Final parsed data: {'booking_id': 'MJA00285172', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285172, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285173): Extracted MJA ID. Original full desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285173): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285173): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285173): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285173): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285173): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285173): Final parsed data: {'booking_id': 'MJA00285173', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285173, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00323444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00323444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=174: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00317866: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00317866 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00285172: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285172 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00285173: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285173 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=917, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Visibility check for element at y=1535, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2153, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00285173 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00285172 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00285172 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00285172, MJR: None, LastProcMJA: MJA00285172)                                             
           INFO     Attempting click on selected card MJA00285172                                                                                                
           INFO     Clicked card MJA00285172                                                                                                                     
[11:32:31] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00285172)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00212994, Face To Face, Appointments : 4"                                                                      
           DEBUG        Extracted MJR ID: MJR00212994                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 4                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00224128                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00224128', 'mjr_id_raw': 'MJR00212994', 'appointment_count_hint': 4,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00285172                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00285172/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00285172/Secondary/Secondary_MJA00285172_MJB00224128_20250518_113231_882681.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00224128, MJR: MJR00212994, Appt Count: 4, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00285172                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00212994")]      
           DEBUG    Clicked MJR link element for MJR00212994.                                                                                                    
[11:32:33] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00285172, MJR: MJR00212994, LastProcMJA: MJA00285172)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00285172, MJR: MJR00212994)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:32:35] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00212994                                                                                    
           DEBUG    Header Results: MJR='MJR00212994', Total='£ 1116.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                         
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00212994'                                                                                         
           DEBUG    Created directory: xml_capture_base/MJR00212994                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00212994/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_initial_view_00_20250518_113235_148439.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Glasgow ET (Dundee)', 'Tribunals Service', 'Endeavour House 1 Greenmarket Dundee       
                    Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB', 'Tribunals - ET | Full hearing', 'Jennifer Paterson', '0300 790 6234', '309.01    
                    Miles']                                                                                                                                      
           DEBUG      Client Name: 'Glasgow ET (Dundee)'                                                                                                         
           DEBUG      Address L1: 'Tribunals Service', L2: 'Endeavour House 1 Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB'       
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Jennifer Paterson'                                                                                                          
           DEBUG      Contact Phone: '0300 790 6234'                                                                                                             
           DEBUG      Distance: '309.01 Miles'                                                                                                                   
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Glasgow ET (Dundee)', 'address_line1_raw':       
                    'Tribunals Service', 'address_line2_raw': 'Endeavour House 1 Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB',   
                    'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Jennifer Paterson', 'contact_phone_raw': '0300 790 6234',          
                    'distance_raw': '309.01 Miles', 'meeting_link_raw': None}                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00285172                                                                                                           
           INFO       Added new MJA block: MJA00285173                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:32:38] INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_scroll_01_20250518_113238_601379.xml                          
           DEBUG    Extracted 4 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00285174                                                                                                           
           INFO       Added new MJA block: MJA00285175                                                                                                           
[11:32:39] DEBUG    Scrolling detail page...                                                                                                                     
[11:32:41] INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_scroll_02_20250518_113241_982476.xml                          
           DEBUG    Extracted 3 MJA payment blocks.                                                                                                              
[11:32:42] INFO     Disclaimer found after 2 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_final_view_02_20250518_113242_130247.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 279.0): {'is_multiday': 1, 'mjr_id': 'MJR00212994', 'header_total': 1116.0, 'booking_date': None, 'start_time':
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '27-05-2025 - 30-05-2025', 'multiday_appointment_info': '4 Appointments / 4 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'Glasgow ET (Dundee)', 'booking_type': 'Tribunals - ET | Full hearing',          
                    'contact_name': 'Jennifer Paterson', 'contact_phone': '0300 790 6234', 'meeting_link': None, 'address': 'Tribunals Service\nEndeavour House 1
                    Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB', 'travel_distance': 309.01, 'overall_total': 1116.0,            
                    'multiday_payments': [{'mja': 'MJA00285172', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 169.0,  
                    'pay_td': 80.0, 'pay_tt': 20.0, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00285173', 'booking_date': None,             
                    'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 169.0, 'pay_td':...                                                        
           INFO     Processing MULTIDAY save for MJR ID: MJR00212994                                                                                             
           INFO     Saving 4 MJA payment blocks for MJR MJR00212994.                                                                                             
           INFO     Saved/Updated details for booking MJA00285172                                                                                                
           INFO     Saved/Updated details for booking MJA00285173                                                                                                
           INFO     Saved/Updated details for booking MJA00285174                                                                                                
           INFO     Saved/Updated details for booking MJA00285175                                                                                                
           DEBUG    Found hints for MJR MJR00212994: Count=4, Type='Face To Face'                                                                                
           INFO     Updated hints (3 records) for MJR MJR00212994.                                                                                               
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:32:43] DEBUG    Executing second back() command.                                                                                                             
[11:32:45] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00285172)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113245_889470.xml                            
[11:32:46] DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00323444): Extracted MJA ID. Original full desc: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00323444): Parts after MJA ID: ['BD1 1LB', '09:30 to 10:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00323444): Found Duration in part '09:30 to 10:00'                                                                             
           DEBUG    MJA Parse (MJA00323444): Found Postcode in part 'BD1 1LB' -> BD1 1LB                                                                         
           DEBUG    MJA Parse (MJA00323444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00323444): Final parsed data: {'booking_id': 'MJA00323444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LB', 'start_time_raw': '09:30', 'end_time_raw': '10:00', 'calculated_duration_str': '00:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 10:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00323444, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00317866, 10:00 to 12:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00317866, 10:00 to 12:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00317866): Extracted MJA ID. Original full desc: 'MJA00317866, 10:00 to 12:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00317866): Parts after MJA ID: ['10:00 to 12:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00317866): Found Duration in part '10:00 to 12:30'                                                                             
           DEBUG    MJA Parse (MJA00317866): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00317866): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00317866): Final parsed data: {'booking_id': 'MJA00317866', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '12:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 12:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00317866, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285172): Extracted MJA ID. Original full desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285172): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285172): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285172): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285172): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285172): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285172): Final parsed data: {'booking_id': 'MJA00285172', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285172, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285173): Extracted MJA ID. Original full desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285173): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285173): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285173): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285173): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285173): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285173): Final parsed data: {'booking_id': 'MJA00285173', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285173, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00323444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00323444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=174: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00317866: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00317866 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00285172: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285172 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1535, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00285173: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285173 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=917, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Visibility check for element at y=2153, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00285173 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00317866 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00317866 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00317866, MJR: None, LastProcMJA: MJA00317866)                                             
           INFO     Attempting click on selected card MJA00317866                                                                                                
           INFO     Clicked card MJA00317866                                                                                                                     
[11:32:48] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00317866)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00240056, Video Remote Interpreting, Appointments : 1"                                                         
           DEBUG        Extracted MJR ID: MJR00240056                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00251813                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00251813', 'mjr_id_raw': 'MJR00240056', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           DEBUG    Created directory: xml_capture_base/MJA00317866                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00317866/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00317866/Secondary/Secondary_MJA00317866_MJB00251813_20250518_113248_927057.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00251813, MJR: MJR00240056, Appt Count: 1, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00317866                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00240056")]      
[11:32:49] DEBUG    Clicked MJR link element for MJR00240056.                                                                                                    
[11:32:50] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00317866, MJR: MJR00240056, LastProcMJA: MJA00317866)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:32:51] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00317866, MJR: MJR00240056)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:32:52] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00240056                                                                                    
           DEBUG    Header Results: MJR='MJR00240056', Total='£ 55.00', MultiDay=False, LangIdx=4, DateTimeTuple='('23-05-2025 At', '10:00 - 12:30')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00240056'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00240056                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00240056/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00240056/Detail_MJR/Detail_MJR_MJR00240056_initial_view_00_20250518_113252_199845.xml                    
           DEBUG    Info block scan range: 5 to 9. Processing 4 items: ['Relate London North West (PTC)', 'Cafcass | Interview', 'Faye Webb', '0']               
           DEBUG      Client Name: 'Relate London North West (PTC)'                                                                                              
           DEBUG      Booking Type: 'Cafcass | Interview'                                                                                                        
           DEBUG      Contact Name: 'Faye Webb'                                                                                                                  
           DEBUG      Contact Phone: '0'                                                                                                                         
           DEBUG    Sanitized 'contact_phone_raw' from '0' to None.                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Relate London North West (PTC)',                 
                    'address_line1_raw': None, 'address_line2_raw': None, 'booking_type_raw': 'Cafcass | Interview', 'contact_name_raw': 'Faye Webb',            
                    'contact_phone_raw': None, 'distance_raw': None, 'meeting_link_raw': None}                                                                   
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00317866                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 55.0): {'is_multiday': 0, 'mjr_id': 'MJR00240056', 'header_total': 55.0, 'booking_date': '23-05-2025',         
                    'start_time': '10:00:00', 'end_time': '12:30:00', 'duration': '02:30', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Relate London North West (PTC)', 'booking_type': 'Cafcass | Interview', 'contact_name':
                    'Faye Webb', 'contact_phone': None, 'meeting_link': None, 'address': None, 'travel_distance': None, 'overall_total': 55.0,                   
                    'multiday_payments': None, 'mja_id': 'MJA00317866', 'day_pay_sl': 45.0, 'day_pay_td': None, 'day_pay_tt': None, 'day_pay_aep': 10.0,         
                    'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 55.0, 'notes': 'The session is for separated parents and looks at how their behaviours
                    can impact on their child’s wellbeing following a divorce or separation. It involves a PowerPoint presentation and short videos facilitated  
                    by a trainer.'}...                                                                                                                           
           INFO     Processing SINGLE DAY save for MJA: MJA00317866 (MJR: MJR00240056)                                                                           
           INFO     Saved/Updated details for booking MJA00317866                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:32:53] DEBUG    Executing second back() command.                                                                                                             
[11:32:55] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00317866)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
[11:32:56] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113256_025442.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00323444): Extracted MJA ID. Original full desc: 'MJA00323444, BD1 1LB, 09:30 to 10:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00323444): Parts after MJA ID: ['BD1 1LB', '09:30 to 10:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00323444): Found Duration in part '09:30 to 10:00'                                                                             
           DEBUG    MJA Parse (MJA00323444): Found Postcode in part 'BD1 1LB' -> BD1 1LB                                                                         
           DEBUG    MJA Parse (MJA00323444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00323444): Final parsed data: {'booking_id': 'MJA00323444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LB', 'start_time_raw': '09:30', 'end_time_raw': '10:00', 'calculated_duration_str': '00:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 10:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00323444, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00317866, 10:00 to 12:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00317866, 10:00 to 12:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00317866): Extracted MJA ID. Original full desc: 'MJA00317866, 10:00 to 12:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00317866): Parts after MJA ID: ['10:00 to 12:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00317866): Found Duration in part '10:00 to 12:30'                                                                             
           DEBUG    MJA Parse (MJA00317866): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00317866): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00317866): Final parsed data: {'booking_id': 'MJA00317866', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '12:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 12:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00317866, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285172): Extracted MJA ID. Original full desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285172): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285172): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285172): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285172): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285172): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285172): Final parsed data: {'booking_id': 'MJA00285172', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285172, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285173): Extracted MJA ID. Original full desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285173): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285173): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285173): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285173): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285173): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285173): Final parsed data: {'booking_id': 'MJA00285173', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285173, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00323444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00323444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=174: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00317866: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00317866 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=917, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00285172: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285172 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1535, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00285173: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285173 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2153, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00285173 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00285172' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00285172 to use as scroll anchor.                                                                                
[11:32:57] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00016bcd with percent: 0.6                                                             
[11:32:59] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113259_088280.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:33:00] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:33:02] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00317866)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285172): Extracted MJA ID. Original full desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285172): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285172): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285172): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285172): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285172): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285172): Final parsed data: {'booking_id': 'MJA00285172', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285172, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285173): Extracted MJA ID. Original full desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285173): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285173): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285173): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285173): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285173): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285173): Final parsed data: {'booking_id': 'MJA00285173', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285173, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285174): Extracted MJA ID. Original full desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285174): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285174): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285174): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285174): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285174): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285174): Final parsed data: {'booking_id': 'MJA00285174', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285174, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285175): Extracted MJA ID. Original full desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285175): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285175): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285175): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285175): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285175): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285175): Final parsed data: {'booking_id': 'MJA00285175', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285175, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00285172: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285172 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=297: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00285173: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285173 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00285174: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285174 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00285175: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285175 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1114, h=464: FullyVis=True (Bounds:449-2543)                                                               
[11:33:03] DEBUG    Visibility check for element at y=1732, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2349, h=407: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00285175 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00285173 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00285173 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00285173, MJR: None, LastProcMJA: MJA00285173)                                             
           INFO     Attempting click on selected card MJA00285173                                                                                                
           INFO     Clicked card MJA00285173                                                                                                                     
[11:33:04] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:33:05] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00285173)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00212994, Face To Face, Appointments : 4"                                                                      
           DEBUG        Extracted MJR ID: MJR00212994                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 4                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00224128                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00224128', 'mjr_id_raw': 'MJR00212994', 'appointment_count_hint': 4,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00285173                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00285173/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00285173/Secondary/Secondary_MJA00285173_MJB00224128_20250518_113305_294438.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00224128, MJR: MJR00212994, Appt Count: 4, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00285173                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00212994")]      
           DEBUG    Clicked MJR link element for MJR00212994.                                                                                                    
[11:33:06] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00285173, MJR: MJR00212994, LastProcMJA: MJA00285173)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:33:07] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00285173, MJR: MJR00212994)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:33:08] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00212994                                                                                    
           DEBUG    Header Results: MJR='MJR00212994', Total='£ 1116.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                         
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00212994'                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_initial_view_00_20250518_113308_635323.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Glasgow ET (Dundee)', 'Tribunals Service', 'Endeavour House 1 Greenmarket Dundee       
                    Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB', 'Tribunals - ET | Full hearing', 'Jennifer Paterson', '0300 790 6234', '309.01    
                    Miles']                                                                                                                                      
           DEBUG      Client Name: 'Glasgow ET (Dundee)'                                                                                                         
           DEBUG      Address L1: 'Tribunals Service', L2: 'Endeavour House 1 Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB'       
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Jennifer Paterson'                                                                                                          
           DEBUG      Contact Phone: '0300 790 6234'                                                                                                             
           DEBUG      Distance: '309.01 Miles'                                                                                                                   
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Glasgow ET (Dundee)', 'address_line1_raw':       
                    'Tribunals Service', 'address_line2_raw': 'Endeavour House 1 Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB',   
                    'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Jennifer Paterson', 'contact_phone_raw': '0300 790 6234',          
                    'distance_raw': '309.01 Miles', 'meeting_link_raw': None}                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00285172                                                                                                           
           INFO       Added new MJA block: MJA00285173                                                                                                           
[11:33:09] DEBUG    Scrolling detail page...                                                                                                                     
[11:33:12] INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_scroll_01_20250518_113312_095418.xml                          
           DEBUG    Extracted 4 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00285174                                                                                                           
           INFO       Added new MJA block: MJA00285175                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:33:15] INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_scroll_02_20250518_113315_404330.xml                          
           DEBUG    Extracted 3 MJA payment blocks.                                                                                                              
           INFO     Disclaimer found after 2 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_final_view_02_20250518_113315_534244.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 279.0): {'is_multiday': 1, 'mjr_id': 'MJR00212994', 'header_total': 1116.0, 'booking_date': None, 'start_time':
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '27-05-2025 - 30-05-2025', 'multiday_appointment_info': '4 Appointments / 4 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'Glasgow ET (Dundee)', 'booking_type': 'Tribunals - ET | Full hearing',          
                    'contact_name': 'Jennifer Paterson', 'contact_phone': '0300 790 6234', 'meeting_link': None, 'address': 'Tribunals Service\nEndeavour House 1
                    Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB', 'travel_distance': 309.01, 'overall_total': 1116.0,            
                    'multiday_payments': [{'mja': 'MJA00285172', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 169.0,  
                    'pay_td': 80.0, 'pay_tt': 20.0, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00285173', 'booking_date': None,             
                    'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 169.0, 'pay_td':...                                                        
           INFO     Processing MULTIDAY save for MJR ID: MJR00212994                                                                                             
           INFO     Saving 4 MJA payment blocks for MJR MJR00212994.                                                                                             
           INFO     Saved/Updated details for booking MJA00285172                                                                                                
           INFO     Saved/Updated details for booking MJA00285173                                                                                                
           INFO     Saved/Updated details for booking MJA00285174                                                                                                
           INFO     Saved/Updated details for booking MJA00285175                                                                                                
           DEBUG    Found hints for MJR MJR00212994: Count=4, Type='Face To Face'                                                                                
           DEBUG    No hint updates needed for MJR MJR00212994.                                                                                                  
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:33:16] DEBUG    Executing second back() command.                                                                                                             
[11:33:18] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00285173)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:33:19] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113319_244145.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285172): Extracted MJA ID. Original full desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285172): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285172): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285172): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285172): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285172): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285172): Final parsed data: {'booking_id': 'MJA00285172', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285172, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285173): Extracted MJA ID. Original full desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285173): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285173): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285173): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285173): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285173): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285173): Final parsed data: {'booking_id': 'MJA00285173', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285173, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285174): Extracted MJA ID. Original full desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285174): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285174): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285174): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285174): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285174): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285174): Final parsed data: {'booking_id': 'MJA00285174', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285174, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285175): Extracted MJA ID. Original full desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285175): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285175): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285175): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285175): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285175): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285175): Final parsed data: {'booking_id': 'MJA00285175', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285175, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00285172: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285172 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=297: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00285173: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285173 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1114, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00285174: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285174 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00285175: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285175 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1732, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2349, h=407: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00285175 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00285174 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00285174 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00285174, MJR: None, LastProcMJA: MJA00285174)                                             
           INFO     Attempting click on selected card MJA00285174                                                                                                
           INFO     Clicked card MJA00285174                                                                                                                     
[11:33:21] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00285174)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00212994, Face To Face, Appointments : 4"                                                                      
           DEBUG        Extracted MJR ID: MJR00212994                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 4                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00224128                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00224128', 'mjr_id_raw': 'MJR00212994', 'appointment_count_hint': 4,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00285174                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00285174/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00285174/Secondary/Secondary_MJA00285174_MJB00224128_20250518_113321_865834.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00224128, MJR: MJR00212994, Appt Count: 4, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00285174                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00212994")]      
           DEBUG    Clicked MJR link element for MJR00212994.                                                                                                    
[11:33:23] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00285174, MJR: MJR00212994, LastProcMJA: MJA00285174)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00285174, MJR: MJR00212994)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:33:25] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00212994                                                                                    
           DEBUG    Header Results: MJR='MJR00212994', Total='£ 1116.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                         
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00212994'                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_initial_view_00_20250518_113325_246739.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Glasgow ET (Dundee)', 'Tribunals Service', 'Endeavour House 1 Greenmarket Dundee       
                    Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB', 'Tribunals - ET | Full hearing', 'Jennifer Paterson', '0300 790 6234', '309.01    
                    Miles']                                                                                                                                      
           DEBUG      Client Name: 'Glasgow ET (Dundee)'                                                                                                         
           DEBUG      Address L1: 'Tribunals Service', L2: 'Endeavour House 1 Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB'       
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Jennifer Paterson'                                                                                                          
           DEBUG      Contact Phone: '0300 790 6234'                                                                                                             
           DEBUG      Distance: '309.01 Miles'                                                                                                                   
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Glasgow ET (Dundee)', 'address_line1_raw':       
                    'Tribunals Service', 'address_line2_raw': 'Endeavour House 1 Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB',   
                    'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Jennifer Paterson', 'contact_phone_raw': '0300 790 6234',          
                    'distance_raw': '309.01 Miles', 'meeting_link_raw': None}                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00285172                                                                                                           
           INFO       Added new MJA block: MJA00285173                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:33:28] INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_scroll_01_20250518_113328_723003.xml                          
           DEBUG    Extracted 4 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00285174                                                                                                           
           INFO       Added new MJA block: MJA00285175                                                                                                           
[11:33:29] DEBUG    Scrolling detail page...                                                                                                                     
[11:33:32] INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_scroll_02_20250518_113332_047070.xml                          
           DEBUG    Extracted 3 MJA payment blocks.                                                                                                              
           INFO     Disclaimer found after 2 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_final_view_02_20250518_113332_188904.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 279.0): {'is_multiday': 1, 'mjr_id': 'MJR00212994', 'header_total': 1116.0, 'booking_date': None, 'start_time':
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '27-05-2025 - 30-05-2025', 'multiday_appointment_info': '4 Appointments / 4 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'Glasgow ET (Dundee)', 'booking_type': 'Tribunals - ET | Full hearing',          
                    'contact_name': 'Jennifer Paterson', 'contact_phone': '0300 790 6234', 'meeting_link': None, 'address': 'Tribunals Service\nEndeavour House 1
                    Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB', 'travel_distance': 309.01, 'overall_total': 1116.0,            
                    'multiday_payments': [{'mja': 'MJA00285172', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 169.0,  
                    'pay_td': 80.0, 'pay_tt': 20.0, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00285173', 'booking_date': None,             
                    'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 169.0, 'pay_td':...                                                        
           INFO     Processing MULTIDAY save for MJR ID: MJR00212994                                                                                             
           INFO     Saving 4 MJA payment blocks for MJR MJR00212994.                                                                                             
           INFO     Saved/Updated details for booking MJA00285172                                                                                                
           INFO     Saved/Updated details for booking MJA00285173                                                                                                
           INFO     Saved/Updated details for booking MJA00285174                                                                                                
           INFO     Saved/Updated details for booking MJA00285175                                                                                                
           DEBUG    Found hints for MJR MJR00212994: Count=4, Type='Face To Face'                                                                                
           DEBUG    No hint updates needed for MJR MJR00212994.                                                                                                  
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:33:33] DEBUG    Executing second back() command.                                                                                                             
[11:33:35] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00285174)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113335_848526.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
[11:33:36] DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285172): Extracted MJA ID. Original full desc: 'MJA00285172, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285172): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285172): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285172): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285172): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285172): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285172): Final parsed data: {'booking_id': 'MJA00285172', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285172, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285173): Extracted MJA ID. Original full desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285173): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285173): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285173): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285173): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285173): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285173): Final parsed data: {'booking_id': 'MJA00285173', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285173, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285174): Extracted MJA ID. Original full desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285174): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285174): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285174): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285174): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285174): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285174): Final parsed data: {'booking_id': 'MJA00285174', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285174, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285175): Extracted MJA ID. Original full desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285175): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285175): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285175): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285175): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285175): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285175): Final parsed data: {'booking_id': 'MJA00285175', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285175, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00285172: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285172 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=297: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00285173: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285173 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1114, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00285174: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285174 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1732, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00285175: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285175 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2349, h=407: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00285175 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00285174' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00285174 to use as scroll anchor.                                                                                
[11:33:37] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff000170c3 with percent: 0.6                                                             
[11:33:39] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113339_055060.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:33:41] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00285174)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:33:42] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285173): Extracted MJA ID. Original full desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285173): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285173): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285173): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285173): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285173): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285173): Final parsed data: {'booking_id': 'MJA00285173', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285173, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285174): Extracted MJA ID. Original full desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285174): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285174): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285174): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285174): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285174): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285174): Final parsed data: {'booking_id': 'MJA00285174', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285174, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285175): Extracted MJA ID. Original full desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285175): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285175): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285175): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285175): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285175): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285175): Final parsed data: {'booking_id': 'MJA00285175', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285175, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00302426, 10:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00302426, 10:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00302426): Extracted MJA ID. Original full desc: 'MJA00302426, 10:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00302426): Parts after MJA ID: ['10:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00302426): Found Duration in part '10:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00302426): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00302426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00302426): Final parsed data: {'booking_id': 'MJA00302426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '12:00', 'calculated_duration_str': '02:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00302426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202042, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202042): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202042): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202042): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202042): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202042): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202042): Final parsed data: {'booking_id': 'MJA00202042', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202042, Status: Cancelled                                                                                     
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00285173: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285173 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=60: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00285174: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285174 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=877, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00285175: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285175 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00302426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00302426 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00202042: Parsed card_status_enum: Cancelled                                                                                         
           INFO     Booking MJA00202042 is CANCELLED. Saving base info only.                                                                                     
           INFO     Inserted/Updated base booking record for MJA00202042 with card_status: Cancelled, db_status: cancelled_on_list                               
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1494, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2112, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00302426 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00285175 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00285175 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00285175, MJR: None, LastProcMJA: MJA00285175)                                             
           INFO     Attempting click on selected card MJA00285175                                                                                                
           INFO     Clicked card MJA00285175                                                                                                                     
[11:33:44] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00285175)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00212994, Face To Face, Appointments : 4"                                                                      
           DEBUG        Extracted MJR ID: MJR00212994                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 4                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00224128                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00224128', 'mjr_id_raw': 'MJR00212994', 'appointment_count_hint': 4,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00285175                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00285175/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00285175/Secondary/Secondary_MJA00285175_MJB00224128_20250518_113344_957601.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00224128, MJR: MJR00212994, Appt Count: 4, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00285175                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00212994")]      
[11:33:45] DEBUG    Clicked MJR link element for MJR00212994.                                                                                                    
[11:33:46] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00285175, MJR: MJR00212994, LastProcMJA: MJA00285175)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:33:47] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00285175, MJR: MJR00212994)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:33:50] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00212994                                                                                    
           DEBUG    Header Results: MJR='MJR00212994', Total='£ 1116.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                         
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00212994'                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_initial_view_00_20250518_113350_215546.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Glasgow ET (Dundee)', 'Tribunals Service', 'Endeavour House 1 Greenmarket Dundee       
                    Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB', 'Tribunals - ET | Full hearing', 'Jennifer Paterson', '0300 790 6234', '309.01    
                    Miles']                                                                                                                                      
           DEBUG      Client Name: 'Glasgow ET (Dundee)'                                                                                                         
           DEBUG      Address L1: 'Tribunals Service', L2: 'Endeavour House 1 Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB'       
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Jennifer Paterson'                                                                                                          
           DEBUG      Contact Phone: '0300 790 6234'                                                                                                             
           DEBUG      Distance: '309.01 Miles'                                                                                                                   
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Glasgow ET (Dundee)', 'address_line1_raw':       
                    'Tribunals Service', 'address_line2_raw': 'Endeavour House 1 Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB',   
                    'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Jennifer Paterson', 'contact_phone_raw': '0300 790 6234',          
                    'distance_raw': '309.01 Miles', 'meeting_link_raw': None}                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00285172                                                                                                           
           INFO       Added new MJA block: MJA00285173                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:33:53] INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_scroll_01_20250518_113353_675474.xml                          
           DEBUG    Extracted 4 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00285174                                                                                                           
           INFO       Added new MJA block: MJA00285175                                                                                                           
[11:33:54] DEBUG    Scrolling detail page...                                                                                                                     
[11:33:57] INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_scroll_02_20250518_113357_028774.xml                          
           DEBUG    Extracted 3 MJA payment blocks.                                                                                                              
           INFO     Disclaimer found after 2 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00212994/Detail_MJR/Detail_MJR_MJR00212994_final_view_02_20250518_113357_178963.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 279.0): {'is_multiday': 1, 'mjr_id': 'MJR00212994', 'header_total': 1116.0, 'booking_date': None, 'start_time':
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '27-05-2025 - 30-05-2025', 'multiday_appointment_info': '4 Appointments / 4 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'Glasgow ET (Dundee)', 'booking_type': 'Tribunals - ET | Full hearing',          
                    'contact_name': 'Jennifer Paterson', 'contact_phone': '0300 790 6234', 'meeting_link': None, 'address': 'Tribunals Service\nEndeavour House 1
                    Greenmarket Dundee Scotland Endeavour House, 1 Greenmarket, Dundee, DD1 4QB', 'travel_distance': 309.01, 'overall_total': 1116.0,            
                    'multiday_payments': [{'mja': 'MJA00285172', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 169.0,  
                    'pay_td': 80.0, 'pay_tt': 20.0, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00285173', 'booking_date': None,             
                    'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 169.0, 'pay_td':...                                                        
           INFO     Processing MULTIDAY save for MJR ID: MJR00212994                                                                                             
           INFO     Saving 4 MJA payment blocks for MJR MJR00212994.                                                                                             
           INFO     Saved/Updated details for booking MJA00285172                                                                                                
           INFO     Saved/Updated details for booking MJA00285173                                                                                                
           INFO     Saved/Updated details for booking MJA00285174                                                                                                
           INFO     Saved/Updated details for booking MJA00285175                                                                                                
           DEBUG    Found hints for MJR MJR00212994: Count=4, Type='Face To Face'                                                                                
           DEBUG    No hint updates needed for MJR MJR00212994.                                                                                                  
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:33:58] DEBUG    Executing second back() command.                                                                                                             
[11:34:00] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00285175)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
[11:34:01] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113401_029549.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285173): Extracted MJA ID. Original full desc: 'MJA00285173, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285173): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285173): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285173): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285173): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285173): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285173): Final parsed data: {'booking_id': 'MJA00285173', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285173, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285174): Extracted MJA ID. Original full desc: 'MJA00285174, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285174): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285174): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285174): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285174): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285174): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285174): Final parsed data: {'booking_id': 'MJA00285174', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285174, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285175): Extracted MJA ID. Original full desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285175): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285175): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285175): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285175): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285175): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285175): Final parsed data: {'booking_id': 'MJA00285175', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285175, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00302426, 10:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00302426, 10:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00302426): Extracted MJA ID. Original full desc: 'MJA00302426, 10:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00302426): Parts after MJA ID: ['10:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00302426): Found Duration in part '10:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00302426): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00302426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00302426): Final parsed data: {'booking_id': 'MJA00302426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '12:00', 'calculated_duration_str': '02:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00302426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202042, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202042): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202042): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202042): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202042): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202042): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202042): Final parsed data: {'booking_id': 'MJA00202042', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202042, Status: Cancelled                                                                                     
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00285173: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285173 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=60: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00285174: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285174 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=877, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00285175: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285175 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1494, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00302426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00302426 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00202042: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202042 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=2657, h=99: FullyVis=False (Bounds:449-2543)                                                               
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2112, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00302426 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00285175' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00285175 to use as scroll anchor.                                                                                
[11:34:03] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00017316 with percent: 0.6                                                             
[11:34:04] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113404_225144.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:34:06] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00285175)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:34:07] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285175): Extracted MJA ID. Original full desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285175): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285175): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285175): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285175): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285175): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285175): Final parsed data: {'booking_id': 'MJA00285175', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285175, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00302426, 10:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00302426, 10:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00302426): Extracted MJA ID. Original full desc: 'MJA00302426, 10:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00302426): Parts after MJA ID: ['10:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00302426): Found Duration in part '10:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00302426): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00302426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00302426): Final parsed data: {'booking_id': 'MJA00302426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '12:00', 'calculated_duration_str': '02:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00302426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202042, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202042): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202042): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202042): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202042): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202042): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202042): Final parsed data: {'booking_id': 'MJA00202042', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202042, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202043, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202043): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202043): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202043): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202043): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202043): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202043): Final parsed data: {'booking_id': 'MJA00202043', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202043, Status: Cancelled                                                                                     
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00285175: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285175 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=331: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00302426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00302426 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00202042: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202042 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1693, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00202043: Parsed card_status_enum: Cancelled                                                                                         
           INFO     Booking MJA00202043 is CANCELLED. Saving base info only.                                                                                     
           INFO     Inserted/Updated base booking record for MJA00202043 with card_status: Cancelled, db_status: cancelled_on_list                               
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1148, h=464: FullyVis=True (Bounds:449-2543)                                                               
           INFO     Selected card MJA00302426 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00302426 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00302426, MJR: None, LastProcMJA: MJA00302426)                                             
           INFO     Attempting click on selected card MJA00302426                                                                                                
           INFO     Clicked card MJA00302426                                                                                                                     
[11:34:09] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00302426)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00227284, Video Remote Interpreting, Appointments : 1"                                                         
           DEBUG        Extracted MJR ID: MJR00227284                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00238645                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00238645', 'mjr_id_raw': 'MJR00227284', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           DEBUG    Created directory: xml_capture_base/MJA00302426                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00302426/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00302426/Secondary/Secondary_MJA00302426_MJB00238645_20250518_113409_813999.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00238645, MJR: MJR00227284, Appt Count: 1, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00302426                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00227284")]      
           DEBUG    Clicked MJR link element for MJR00227284.                                                                                                    
[11:34:11] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00302426, MJR: MJR00227284, LastProcMJA: MJA00302426)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00302426, MJR: MJR00227284)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:34:13] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00227284                                                                                    
           DEBUG    Header Results: MJR='MJR00227284', Total='£ 63.00', MultiDay=False, LangIdx=4, DateTimeTuple='('02-06-2025 At', '10:00 - 12:00')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00227284'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00227284                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00227284/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00227284/Detail_MJR/Detail_MJR_MJR00227284_initial_view_00_20250518_113413_212584.xml                    
           DEBUG    Info block scan range: 5 to 9. Processing 4 items: ['Glasgow ET (Aberdeen)', 'Tribunals - ET | Full hearing', 'Carly Sim', '0']              
           DEBUG      Client Name: 'Glasgow ET (Aberdeen)'                                                                                                       
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Carly Sim'                                                                                                                  
           DEBUG      Contact Phone: '0'                                                                                                                         
           DEBUG    Sanitized 'contact_phone_raw' from '0' to None.                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Glasgow ET (Aberdeen)', 'address_line1_raw':     
                    None, 'address_line2_raw': None, 'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Carly Sim', 'contact_phone_raw':  
                    None, 'distance_raw': None, 'meeting_link_raw': None}                                                                                        
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00302426                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 63.0): {'is_multiday': 0, 'mjr_id': 'MJR00227284', 'header_total': 63.0, 'booking_date': '02-06-2025',         
                    'start_time': '10:00:00', 'end_time': '12:00:00', 'duration': '02:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Glasgow ET (Aberdeen)', 'booking_type': 'Tribunals - ET | Full hearing',               
                    'contact_name': 'Carly Sim', 'contact_phone': None, 'meeting_link': None, 'address': None, 'travel_distance': None, 'overall_total': 63.0,   
                    'multiday_payments': None, 'mja_id': 'MJA00302426', 'day_pay_sl': 48.0, 'day_pay_td': None, 'day_pay_tt': None, 'day_pay_aep': 15.0,         
                    'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 63.0, 'notes': 'Do not attend onsite, this booking is taking place via Kinly CVP, you 
                    will be sent an email with the link for the hearing.  The interpreter must be based in the UK.'}...                                          
           INFO     Processing SINGLE DAY save for MJA: MJA00302426 (MJR: MJR00227284)                                                                           
           INFO     Saved/Updated details for booking MJA00302426                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:34:14] DEBUG    Executing second back() command.                                                                                                             
[11:34:16] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00302426)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
[11:34:17] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113417_076729.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'                   
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00, English to Polish'  
           DEBUG    MJA Parse (MJA00285175): Extracted MJA ID. Original full desc: 'MJA00285175, Endeavour House, 1 Greenmarket, Dundee, DD1 4QB, 10:00 to 17:00,
                    English to Polish'                                                                                                                           
           DEBUG    MJA Parse (MJA00285175): Parts after MJA ID: ['Endeavour House', '1 Greenmarket', 'Dundee', 'DD1 4QB', '10:00 to 17:00', 'English to Polish']
           DEBUG    MJA Parse (MJA00285175): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00285175): Found Postcode in part 'DD1 4QB' -> DD1 4QB                                                                         
           DEBUG    MJA Parse (MJA00285175): Assigned Language Pair: 'English to Polish' from remaining: ['Endeavour House', '1 Greenmarket', 'Dundee', 'English 
                    to Polish']                                                                                                                                  
           WARNING  MJA Parse (MJA00285175): Multiple unassigned parts left: ['Endeavour House', '1 Greenmarket', 'Dundee']. Using last for lang.                
           INFO     MJA Parse (MJA00285175): Final parsed data: {'booking_id': 'MJA00285175', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'DD1 4QB', 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00285175, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00302426, 10:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00302426, 10:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00302426): Extracted MJA ID. Original full desc: 'MJA00302426, 10:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00302426): Parts after MJA ID: ['10:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00302426): Found Duration in part '10:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00302426): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00302426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00302426): Final parsed data: {'booking_id': 'MJA00302426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '12:00', 'calculated_duration_str': '02:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00302426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202042, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202042): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202042): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202042): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202042): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202042): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202042): Final parsed data: {'booking_id': 'MJA00202042', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202042, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202043, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202043): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202043): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202043): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202043): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202043): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202043): Final parsed data: {'booking_id': 'MJA00202043', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202043, Status: Cancelled                                                                                     
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00285175: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00285175 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=331: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00302426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00302426 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1148, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00202042: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202042 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1693, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00202043: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202043 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=2311, h=445: FullyVis=False (Bounds:449-2543)                                                              
           INFO     Found 0 'Normal' unprocessed cards for potential click.                                                                                      
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00202042' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00202042 to use as scroll anchor.                                                                                
[11:34:19] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00017510 with percent: 0.6                                                             
[11:34:20] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113420_131295.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:34:22] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00302426)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:34:23] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202042, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202042): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202042): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202042): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202042): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202042): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202042): Final parsed data: {'booking_id': 'MJA00202042', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202042, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202043, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202043): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202043): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202043): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202043): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202043): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202043): Final parsed data: {'booking_id': 'MJA00202043', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202043, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'MJA00322089, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00322089, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00322089): Extracted MJA ID. Original full desc: 'MJA00322089, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00322089): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00322089): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00322089): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00322089): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00322089): Final parsed data: {'booking_id': 'MJA00322089', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00322089, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202044, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202044): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202044): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202044): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202044): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202044): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202044): Final parsed data: {'booking_id': 'MJA00202044', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202044, Status: Cancelled                                                                                     
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00202042: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202042 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=441: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00202043: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202043 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1258, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00322089: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00322089 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00202044: Parsed card_status_enum: Cancelled                                                                                         
           INFO     Booking MJA00202044 is CANCELLED. Saving base info only.                                                                                     
           INFO     Inserted/Updated base booking record for MJA00202044 with card_status: Cancelled, db_status: cancelled_on_list                               
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1876, h=464: FullyVis=True (Bounds:449-2543)                                                               
           INFO     Selected card MJA00322089 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00322089 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00322089, MJR: None, LastProcMJA: MJA00322089)                                             
           INFO     Attempting click on selected card MJA00322089                                                                                                
           INFO     Clicked card MJA00322089                                                                                                                     
[11:34:25] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00322089)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00243620, Video Remote Interpreting, Appointments : 1"                                                         
           DEBUG        Extracted MJR ID: MJR00243620                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00255558                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00255558', 'mjr_id_raw': 'MJR00243620', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           DEBUG    Created directory: xml_capture_base/MJA00322089                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00322089/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00322089/Secondary/Secondary_MJA00322089_MJB00255558_20250518_113425_660464.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00255558, MJR: MJR00243620, Appt Count: 1, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00322089                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00243620")]      
           DEBUG    Clicked MJR link element for MJR00243620.                                                                                                    
[11:34:27] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00322089, MJR: MJR00243620, LastProcMJA: MJA00322089)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00322089, MJR: MJR00243620)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:34:28] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00243620                                                                                    
[11:34:29] DEBUG    Header Results: MJR='MJR00243620', Total='£ 51.00', MultiDay=False, LangIdx=4, DateTimeTuple='('04-06-2025 At', '10:00 - 11:30')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00243620'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00243620                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00243620/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00243620/Detail_MJR/Detail_MJR_MJR00243620_initial_view_00_20250518_113429_053322.xml                    
           DEBUG    Info block scan range: 5 to 10. Processing 5 items: ['West Mercia (TPS)', 'Meeting Link', 'NPS | Interview for Court report - face to face', 
                    'undefined undefined', 'undefined']                                                                                                          
           DEBUG      Client Name: 'West Mercia (TPS)'                                                                                                           
           DEBUG      Found 'Meeting Link'.                                                                                                                      
           DEBUG      No valid URL after Meeting Link label. Next: NPS | Interview for Court report - face to face                                               
           DEBUG      Booking Type: 'NPS | Interview for Court report - face to face'                                                                            
           DEBUG      Contact Name: 'undefined undefined'                                                                                                        
           DEBUG      Contact Phone: 'undefined'                                                                                                                 
           DEBUG    Sanitized 'contact_name_raw' from 'undefined undefined' to None.                                                                             
           DEBUG    Sanitized 'contact_phone_raw' from 'undefined' to None.                                                                                      
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'West Mercia (TPS)', 'address_line1_raw': None,   
                    'address_line2_raw': None, 'booking_type_raw': 'NPS | Interview for Court report - face to face', 'contact_name_raw': None,                  
                    'contact_phone_raw': None, 'distance_raw': None, 'meeting_link_raw': None}                                                                   
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00322089                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:34:32] INFO     Saved XML dump: xml_capture_base/MJR00243620/Detail_MJR/Detail_MJR_MJR00243620_scroll_01_20250518_113432_403880.xml                          
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00243620/Detail_MJR/Detail_MJR_MJR00243620_final_view_01_20250518_113432_498628.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           INFO     Extracted meeting link from notes: Jayne.Stewart@justice.gov.uk                                                                              
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 51.0): {'is_multiday': 0, 'mjr_id': 'MJR00243620', 'header_total': 51.0, 'booking_date': '04-06-2025',         
                    'start_time': '10:00:00', 'end_time': '11:30:00', 'duration': '01:30', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'West Mercia (TPS)', 'booking_type': 'NPS | Interview for Court report - face to face', 
                    'contact_name': None, 'contact_phone': None, 'meeting_link': 'Jayne.Stewart@justice.gov.uk', 'address': None, 'travel_distance': None,       
                    'overall_total': 51.0, 'multiday_payments': None, 'mja_id': 'MJA00322089', 'day_pay_sl': 36.0, 'day_pay_td': None, 'day_pay_tt': None,       
                    'day_pay_aep': 15.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 51.0, 'notes': 'Jayne.Stewart@justice.gov.uk 07817023298 will be 
                    the Probation Officer on the call if you have any issues connecting. Secure computer connection required. No need to attend in person. Please
                    use the CVP system link https://join.meet.video.justice.gov.uk\nEnter the f...                                                               
           INFO     Processing SINGLE DAY save for MJA: MJA00322089 (MJR: MJR00243620)                                                                           
           INFO     Saved/Updated details for booking MJA00322089                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:34:33] DEBUG    Executing second back() command.                                                                                                             
[11:34:35] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00322089)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:34:36] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113436_180662.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202042, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202042): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202042, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202042): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202042): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202042): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202042): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202042): Final parsed data: {'booking_id': 'MJA00202042', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202042, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202043, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202043): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202043, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202043): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202043): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202043): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202043): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202043): Final parsed data: {'booking_id': 'MJA00202043', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202043, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'MJA00322089, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00322089, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00322089): Extracted MJA ID. Original full desc: 'MJA00322089, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00322089): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00322089): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00322089): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00322089): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00322089): Final parsed data: {'booking_id': 'MJA00322089', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00322089, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202044, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202044): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202044): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202044): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202044): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202044): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202044): Final parsed data: {'booking_id': 'MJA00202044', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202044, Status: Cancelled                                                                                     
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00202042: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202042 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=441: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00202043: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202043 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1258, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00322089: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00322089 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1876, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00202044: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202044 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=2421, h=335: FullyVis=False (Bounds:449-2543)                                                              
           INFO     Found 0 'Normal' unprocessed cards for potential click.                                                                                      
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00322089' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00322089 to use as scroll anchor.                                                                                
[11:34:38] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff0001773c with percent: 0.6                                                             
[11:34:39] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113439_318130.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:34:41] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00322089)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:34:42] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00322089, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00322089, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00322089): Extracted MJA ID. Original full desc: 'MJA00322089, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00322089): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00322089): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00322089): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00322089): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00322089): Final parsed data: {'booking_id': 'MJA00322089', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00322089, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202044, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202044): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202044): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202044): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202044): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202044): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202044): Final parsed data: {'booking_id': 'MJA00202044', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202044, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'MJA00308901, 09:45 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308901, 09:45 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00308901): Extracted MJA ID. Original full desc: 'MJA00308901, 09:45 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00308901): Parts after MJA ID: ['09:45 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00308901): Found Duration in part '09:45 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00308901): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00308901): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308901): Final parsed data: {'booking_id': 'MJA00308901', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '09:45', 'end_time_raw': '12:00', 'calculated_duration_str': '02:15', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '09:45 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308901, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202045, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202045, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202045, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202045): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202045, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202045): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202045): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202045): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202045): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202045): Final parsed data: {'booking_id': 'MJA00202045', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202045, Status: Cancelled                                                                                     
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00322089: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00322089 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=752, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00202044: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202044 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1297, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00308901: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308901 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00202045: Parsed card_status_enum: Cancelled                                                                                         
           INFO     Booking MJA00202045 is CANCELLED. Saving base info only.                                                                                     
           INFO     Inserted/Updated base booking record for MJA00202045 with card_status: Cancelled, db_status: cancelled_on_list                               
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1914, h=465: FullyVis=True (Bounds:449-2543)                                                               
           INFO     Selected card MJA00308901 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00308901 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00308901, MJR: None, LastProcMJA: MJA00308901)                                             
           INFO     Attempting click on selected card MJA00308901                                                                                                
           INFO     Clicked card MJA00308901                                                                                                                     
[11:34:44] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00308901)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00232743, Video Remote Interpreting, Appointments : 1"                                                         
           DEBUG        Extracted MJR ID: MJR00232743                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00244280                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00244280', 'mjr_id_raw': 'MJR00232743', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           DEBUG    Created directory: xml_capture_base/MJA00308901                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00308901/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00308901/Secondary/Secondary_MJA00308901_MJB00244280_20250518_113444_919844.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00244280, MJR: MJR00232743, Appt Count: 1, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00308901                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00232743")]      
[11:34:45] DEBUG    Clicked MJR link element for MJR00232743.                                                                                                    
[11:34:46] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00308901, MJR: MJR00232743, LastProcMJA: MJA00308901)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:34:47] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00308901, MJR: MJR00232743)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:34:48] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00232743                                                                                    
           DEBUG    Header Results: MJR='MJR00232743', Total='£ 64.00', MultiDay=False, LangIdx=4, DateTimeTuple='('05-06-2025 At', '09:45 - 12:00')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00232743'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00232743                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00232743/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00232743/Detail_MJR/Detail_MJR_MJR00232743_initial_view_00_20250518_113448_292444.xml                    
           DEBUG    Info block scan range: 5 to 10. Processing 5 items: ['SSCS Admin Support Centre', 'Meeting Link', 'Tribunals - SSCS | SSCS Substantive       
                    hearing', 'undefined undefined', 'undefined']                                                                                                
           DEBUG      Client Name: 'SSCS Admin Support Centre'                                                                                                   
           DEBUG      Found 'Meeting Link'.                                                                                                                      
           DEBUG      No valid URL after Meeting Link label. Next: Tribunals - SSCS | SSCS Substantive hearing                                                   
           DEBUG      Booking Type: 'Tribunals - SSCS | SSCS Substantive hearing'                                                                                
           DEBUG      Contact Name: 'undefined undefined'                                                                                                        
           DEBUG      Contact Phone: 'undefined'                                                                                                                 
           DEBUG    Sanitized 'contact_name_raw' from 'undefined undefined' to None.                                                                             
           DEBUG    Sanitized 'contact_phone_raw' from 'undefined' to None.                                                                                      
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'SSCS Admin Support Centre', 'address_line1_raw': 
                    None, 'address_line2_raw': None, 'booking_type_raw': 'Tribunals - SSCS | SSCS Substantive hearing', 'contact_name_raw': None,                
                    'contact_phone_raw': None, 'distance_raw': None, 'meeting_link_raw': None}                                                                   
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00308901                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 64.0): {'is_multiday': 0, 'mjr_id': 'MJR00232743', 'header_total': 64.0, 'booking_date': '05-06-2025',         
                    'start_time': '09:45:00', 'end_time': '12:00:00', 'duration': '02:15', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'SSCS Admin Support Centre', 'booking_type': 'Tribunals - SSCS | SSCS Substantive       
                    hearing', 'contact_name': None, 'contact_phone': None, 'meeting_link': None, 'address': None, 'travel_distance': None, 'overall_total': 64.0,
                    'multiday_payments': None, 'mja_id': 'MJA00308901', 'day_pay_sl': 54.0, 'day_pay_td': None, 'day_pay_tt': None, 'day_pay_aep': 10.0,         
                    'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 64.0, 'notes': 'DO NOT ATTEND ONSITE: this booking is taking place via video. The     
                    venue will contact you with the waiting room link.'}...                                                                                      
           INFO     Processing SINGLE DAY save for MJA: MJA00308901 (MJR: MJR00232743)                                                                           
           INFO     Saved/Updated details for booking MJA00308901                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:34:49] DEBUG    Executing second back() command.                                                                                                             
[11:34:51] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00308901)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:34:52] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113452_215379.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00322089, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00322089, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00322089): Extracted MJA ID. Original full desc: 'MJA00322089, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00322089): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00322089): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00322089): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00322089): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00322089): Final parsed data: {'booking_id': 'MJA00322089', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00322089, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202044, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202044): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202044): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202044): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202044): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202044): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202044): Final parsed data: {'booking_id': 'MJA00202044', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202044, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'MJA00308901, 09:45 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308901, 09:45 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00308901): Extracted MJA ID. Original full desc: 'MJA00308901, 09:45 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00308901): Parts after MJA ID: ['09:45 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00308901): Found Duration in part '09:45 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00308901): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00308901): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308901): Final parsed data: {'booking_id': 'MJA00308901', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '09:45', 'end_time_raw': '12:00', 'calculated_duration_str': '02:15', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '09:45 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308901, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202045, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202045, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202045, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202045): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202045, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202045): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202045): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202045): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202045): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202045): Final parsed data: {'booking_id': 'MJA00202045', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202045, Status: Cancelled                                                                                     
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00322089: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00322089 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=752, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00202044: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202044 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1297, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00308901: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308901 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1914, h=465: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00202045: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202045 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=2459, h=297: FullyVis=False (Bounds:449-2543)                                                              
           INFO     Found 0 'Normal' unprocessed cards for potential click.                                                                                      
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00308901' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00308901 to use as scroll anchor.                                                                                
[11:34:54] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff000178e7 with percent: 0.6                                                             
[11:34:55] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113455_292013.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:34:57] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00308901)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:34:58] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00202044): Extracted MJA ID. Original full desc: 'MJA00202044, LS1 2RP, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00202044): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202044): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202044): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202044): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202044): Final parsed data: {'booking_id': 'MJA00202044', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00202044, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00308901, 09:45 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308901, 09:45 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00308901): Extracted MJA ID. Original full desc: 'MJA00308901, 09:45 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00308901): Parts after MJA ID: ['09:45 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00308901): Found Duration in part '09:45 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00308901): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00308901): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308901): Final parsed data: {'booking_id': 'MJA00308901', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '09:45', 'end_time_raw': '12:00', 'calculated_duration_str': '02:15', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '09:45 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308901, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00202045, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202045, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202045, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202045): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202045, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202045): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202045): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202045): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202045): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202045): Final parsed data: {'booking_id': 'MJA00202045', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202045, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202046, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202046, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202046, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202046): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202046, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202046): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202046): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202046): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202046): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202046): Final parsed data: {'booking_id': 'MJA00202046', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202046, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202047, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202047): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202047): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202047): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202047): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202047): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202047): Final parsed data: {'booking_id': 'MJA00202047', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202047, Status: Cancelled                                                                                     
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00202044: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00202044 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=1: FullyVis=True (Bounds:449-2543)                                                                  
           DEBUG    Card MJA00308901: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308901 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=817, h=465: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00202045: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202045 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1362, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00202046: Parsed card_status_enum: Cancelled                                                                                         
           INFO     Booking MJA00202046 is CANCELLED. Saving base info only.                                                                                     
           INFO     Inserted/Updated base booking record for MJA00202046 with card_status: Cancelled, db_status: cancelled_on_list                               
           DEBUG    Card MJA00202047: Parsed card_status_enum: Cancelled                                                                                         
           INFO     Booking MJA00202047 is CANCELLED. Saving base info only.                                                                                     
           INFO     Inserted/Updated base booking record for MJA00202047 with card_status: Cancelled, db_status: cancelled_on_list                               
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 0 'Normal' unprocessed cards for potential click.                                                                                      
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00202047' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00202047 to use as scroll anchor.                                                                                
[11:35:00] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00017911 with percent: 0.6                                                             
[11:35:01] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113501_252833.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:35:03] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00308901)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:35:04] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202046, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202046, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202046, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202046): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202046, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202046): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202046): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202046): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202046): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202046): Final parsed data: {'booking_id': 'MJA00202046', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202046, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00202047, LS1 2RP, 10:00 to 16:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00202047): Extracted MJA ID. Original full desc: 'Cancelled, MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'          
           DEBUG    MJA Parse (MJA00202047): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202047): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202047): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202047): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202047): Final parsed data: {'booking_id': 'MJA00202047', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00202047, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'Cancelled, MJA00220654, BD1 1LA, 09:30 to 13:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00220654, BD1 1LA, 09:30 to 13:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00220654, BD1 1LA, 09:30 to 13:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00220654): Extracted MJA ID. Original full desc: 'Cancelled, MJA00220654, BD1 1LA, 09:30 to 13:00, English to Polish'          
           DEBUG    MJA Parse (MJA00220654): Parts after MJA ID: ['BD1 1LA', '09:30 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00220654): Found Duration in part '09:30 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00220654): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00220654): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00220654): Final parsed data: {'booking_id': 'MJA00220654', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '13:00', 'calculated_duration_str': '03:30', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '09:30 to 13:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00220654, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00310466): Extracted MJA ID. Original full desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00310466): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00310466): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00310466): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00310466): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00310466): Final parsed data: {'booking_id': 'MJA00310466', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00310466, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00202046: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202046 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=406: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00202047: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00202047 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1223, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00220654: Parsed card_status_enum: Cancelled                                                                                         
           INFO     Booking MJA00220654 is CANCELLED. Saving base info only.                                                                                     
           INFO     Inserted/Updated base booking record for MJA00220654 with card_status: Cancelled, db_status: cancelled_on_list                               
           DEBUG    Card MJA00310466: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00310466 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2458, h=298: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00310466 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00220654' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00220654 to use as scroll anchor.                                                                                
[11:35:05] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00017921 with percent: 0.6                                                             
[11:35:07] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113507_089099.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:35:09] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00308901)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
[11:35:10] DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00202047): Extracted MJA ID. Original full desc: 'MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00202047): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202047): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202047): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202047): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202047): Final parsed data: {'booking_id': 'MJA00202047', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00202047, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00220654, BD1 1LA, 09:30 to 13:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00220654, BD1 1LA, 09:30 to 13:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00220654, BD1 1LA, 09:30 to 13:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00220654): Extracted MJA ID. Original full desc: 'Cancelled, MJA00220654, BD1 1LA, 09:30 to 13:00, English to Polish'          
           DEBUG    MJA Parse (MJA00220654): Parts after MJA ID: ['BD1 1LA', '09:30 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00220654): Found Duration in part '09:30 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00220654): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00220654): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00220654): Final parsed data: {'booking_id': 'MJA00220654', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '13:00', 'calculated_duration_str': '03:30', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '09:30 to 13:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00220654, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00310466): Extracted MJA ID. Original full desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00310466): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00310466): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00310466): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00310466): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00310466): Final parsed data: {'booking_id': 'MJA00310466', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00310466, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219423): Extracted MJA ID. Original full desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219423): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219423): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219423): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219423): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219423): Final parsed data: {'booking_id': 'MJA00219423', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219423, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219424): Extracted MJA ID. Original full desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219424): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219424): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219424): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219424): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219424): Final parsed data: {'booking_id': 'MJA00219424', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219424, Status: Normal                                                                                        
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00202047: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00202047 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=54: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00220654: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00220654 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=871, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00310466: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00310466 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00219423: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219423 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00219424: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219424 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1488, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2106, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00219423 (Normal) found but not fully visible for click.                                                                             
           DEBUG    Visibility check for element at y=2724, h=32: FullyVis=False (Bounds:449-2543)                                                               
           DEBUG    Card MJA00219424 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00310466 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00310466 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00310466, MJR: None, LastProcMJA: MJA00310466)                                             
           INFO     Attempting click on selected card MJA00310466                                                                                                
           INFO     Clicked card MJA00310466                                                                                                                     
[11:35:12] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00310466)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00234000, Video Remote Interpreting, Appointments : 1"                                                         
           DEBUG        Extracted MJR ID: MJR00234000                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00245561                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00245561', 'mjr_id_raw': 'MJR00234000', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           DEBUG    Created directory: xml_capture_base/MJA00310466                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00310466/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00310466/Secondary/Secondary_MJA00310466_MJB00245561_20250518_113512_663883.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00245561, MJR: MJR00234000, Appt Count: 1, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00310466                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00234000")]      
           DEBUG    Clicked MJR link element for MJR00234000.                                                                                                    
[11:35:14] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00310466, MJR: MJR00234000, LastProcMJA: MJA00310466)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00310466, MJR: MJR00234000)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:35:15] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00234000                                                                                    
           DEBUG    Header Results: MJR='MJR00234000', Total='£ 44.00', MultiDay=False, LangIdx=4, DateTimeTuple='('12-06-2025 At', '11:00 - 12:00')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00234000'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00234000                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00234000/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00234000/Detail_MJR/Detail_MJR_MJR00234000_initial_view_00_20250518_113515_899609.xml                    
           DEBUG    Info block scan range: 5 to 9. Processing 4 items: ['York County Court', "Family - Children's cases Private law | Further hearing",          
                    'Catherine Smith', '01904 688550']                                                                                                           
           DEBUG      Client Name: 'York County Court'                                                                                                           
           DEBUG      Booking Type: 'Family - Children's cases Private law | Further hearing'                                                                    
           DEBUG      Contact Name: 'Catherine Smith'                                                                                                            
           DEBUG      Contact Phone: '01904 688550'                                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'York County Court', 'address_line1_raw': None,   
                    'address_line2_raw': None, 'booking_type_raw': "Family - Children's cases Private law | Further hearing", 'contact_name_raw': 'Catherine     
                    Smith', 'contact_phone_raw': '01904 688550', 'distance_raw': None, 'meeting_link_raw': None}                                                 
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00310466                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
[11:35:16] INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 44.0): {'is_multiday': 0, 'mjr_id': 'MJR00234000', 'header_total': 44.0, 'booking_date': '12-06-2025',         
                    'start_time': '11:00:00', 'end_time': '12:00:00', 'duration': '01:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'York County Court', 'booking_type': "Family - Children's cases Private law | Further   
                    hearing", 'contact_name': 'Catherine Smith', 'contact_phone': '01904 688550', 'meeting_link': None, 'address': None, 'travel_distance': None,
                    'overall_total': 44.0, 'multiday_payments': None, 'mja_id': 'MJA00310466', 'day_pay_sl': 24.0, 'day_pay_td': None, 'day_pay_tt': None,       
                    'day_pay_aep': 20.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 44.0, 'notes': None}...                                          
           INFO     Processing SINGLE DAY save for MJA: MJA00310466 (MJR: MJR00234000)                                                                           
           INFO     Saved/Updated details for booking MJA00310466                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:35:17] DEBUG    Executing second back() command.                                                                                                             
[11:35:18] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00310466)                                                         
[11:35:19] DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113519_723042.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00202047): Extracted MJA ID. Original full desc: 'MJA00202047, LS1 2RP, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00202047): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00202047): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00202047): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00202047): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00202047): Final parsed data: {'booking_id': 'MJA00202047', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00202047, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'Cancelled, MJA00220654, BD1 1LA, 09:30 to 13:00, English to Polish'                                                
           DEBUG    MJA Parse: Starting parsing for desc_str: 'Cancelled, MJA00220654, BD1 1LA, 09:30 to 13:00, English to Polish'                               
           INFO     MJA Parse: Found card status 'Cancelled' (Prefix: 'Cancelled,'). Remaining desc for MJA ID: 'MJA00220654, BD1 1LA, 09:30 to 13:00, English to
                    Polish'                                                                                                                                      
           DEBUG    MJA Parse (MJA00220654): Extracted MJA ID. Original full desc: 'Cancelled, MJA00220654, BD1 1LA, 09:30 to 13:00, English to Polish'          
           DEBUG    MJA Parse (MJA00220654): Parts after MJA ID: ['BD1 1LA', '09:30 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00220654): Found Duration in part '09:30 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00220654): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00220654): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00220654): Final parsed data: {'booking_id': 'MJA00220654', 'card_status': <BookingCardStatus.CANCELLED: 'Cancelled'>,         
                    'postcode': 'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '13:00', 'calculated_duration_str': '03:30', 'language_pair': 'English to  
                    Polish', 'isRemote': 0, 'original_duration_str': '09:30 to 13:00'}                                                                           
           DEBUG    Successfully parsed card: MJA00220654, Status: Cancelled                                                                                     
           DEBUG    Processing content-desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00310466): Extracted MJA ID. Original full desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00310466): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00310466): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00310466): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00310466): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00310466): Final parsed data: {'booking_id': 'MJA00310466', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00310466, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219423): Extracted MJA ID. Original full desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219423): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219423): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219423): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219423): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219423): Final parsed data: {'booking_id': 'MJA00219423', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219423, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219424): Extracted MJA ID. Original full desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219424): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219424): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219424): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219424): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219424): Final parsed data: {'booking_id': 'MJA00219424', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219424, Status: Normal                                                                                        
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00202047: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00202047 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=54: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00220654: Parsed card_status_enum: Cancelled                                                                                         
           DEBUG    Card MJA00220654 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:35:20] DEBUG    Visibility check for element at y=871, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00310466: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00310466 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1488, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00219423: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219423 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00219424: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219424 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2106, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00219423 (Normal) found but not fully visible for click.                                                                             
           DEBUG    Visibility check for element at y=2724, h=32: FullyVis=False (Bounds:449-2543)                                                               
           DEBUG    Card MJA00219424 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00310466' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00310466 to use as scroll anchor.                                                                                
[11:35:21] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00017af9 with percent: 0.6                                                             
[11:35:22] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113522_868974.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:35:23] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:35:25] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00310466)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
[11:35:26] DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00310466): Extracted MJA ID. Original full desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00310466): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00310466): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00310466): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00310466): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00310466): Final parsed data: {'booking_id': 'MJA00310466', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00310466, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219423): Extracted MJA ID. Original full desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219423): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219423): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219423): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219423): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219423): Final parsed data: {'booking_id': 'MJA00219423', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219423, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219424): Extracted MJA ID. Original full desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219424): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219424): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219424): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219424): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219424): Final parsed data: {'booking_id': 'MJA00219424', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219424, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219425): Extracted MJA ID. Original full desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219425): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219425): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219425): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219425): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219425): Final parsed data: {'booking_id': 'MJA00219425', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219425, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00310466: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00310466 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=383: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00219423: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219423 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00219424: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219424 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00219425: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219425 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1200, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=1818, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2436, h=320: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00219425 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00219423 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00219423 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00219423, MJR: None, LastProcMJA: MJA00219423)                                             
           INFO     Attempting click on selected card MJA00219423                                                                                                
           INFO     Clicked card MJA00219423                                                                                                                     
[11:35:28] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00219423)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00159525, Face To Face, Appointments : 5"                                                                      
           DEBUG        Extracted MJR ID: MJR00159525                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 5                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00168719                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00168719', 'mjr_id_raw': 'MJR00159525', 'appointment_count_hint': 5,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00219423                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00219423/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00219423/Secondary/Secondary_MJA00219423_MJB00168719_20250518_113528_942640.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00168719, MJR: MJR00159525, Appt Count: 5, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00219423                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00159525")]      
[11:35:29] DEBUG    Clicked MJR link element for MJR00159525.                                                                                                    
[11:35:30] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00219423, MJR: MJR00159525, LastProcMJA: MJA00219423)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:35:31] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00219423, MJR: MJR00159525)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:35:32] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00159525                                                                                    
           DEBUG    Header Results: MJR='MJR00159525', Total='£ 840.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                          
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00159525'                                                                                         
           DEBUG    Created directory: xml_capture_base/MJR00159525                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00159525/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_initial_view_00_20250518_113532_218432.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Leeds ET', '6 Grace Street', 'Leeds England LS1 2RP', 'Tribunals - ET | Full hearing', 
                    'Alison Jones', '0113 245 9741', '9.99 Miles']                                                                                               
           DEBUG      Client Name: 'Leeds ET'                                                                                                                    
           DEBUG      Address L1: '6 Grace Street', L2: 'Leeds England LS1 2RP'                                                                                  
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Alison Jones'                                                                                                               
           DEBUG      Contact Phone: '0113 245 9741'                                                                                                             
           DEBUG      Distance: '9.99 Miles'                                                                                                                     
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Leeds ET', 'address_line1_raw': '6 Grace Street',
                    'address_line2_raw': 'Leeds England LS1 2RP', 'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Alison Jones',       
                    'contact_phone_raw': '0113 245 9741', 'distance_raw': '9.99 Miles', 'meeting_link_raw': None}                                                
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 3 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219423                                                                                                           
           INFO       Added new MJA block: MJA00219424                                                                                                           
           INFO       Added new MJA block: MJA00219425                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:35:35] INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_scroll_01_20250518_113535_620583.xml                          
           DEBUG    Extracted 5 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219426                                                                                                           
           INFO       Added new MJA block: MJA00219427                                                                                                           
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_final_view_01_20250518_113535_771813.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 168.0): {'is_multiday': 1, 'mjr_id': 'MJR00159525', 'header_total': 840.0, 'booking_date': None, 'start_time': 
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '16-06-2025 - 20-06-2025', 'multiday_appointment_info': '5 Appointments / 5 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'Leeds ET', 'booking_type': 'Tribunals - ET | Full hearing', 'contact_name':     
                    'Alison Jones', 'contact_phone': '0113 245 9741', 'meeting_link': None, 'address': '6 Grace Street\nLeeds England LS1 2RP',                  
                    'travel_distance': 9.99, 'overall_total': 840.0, 'multiday_payments': [{'mja': 'MJA00219423', 'booking_date': None, 'start_time': None,      
                    'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0, 'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None},      
                    {'mja': 'MJA00219424', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0,         
                    'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00219425',...                                                
           INFO     Processing MULTIDAY save for MJR ID: MJR00159525                                                                                             
           INFO     Saving 5 MJA payment blocks for MJR MJR00159525.                                                                                             
           INFO     Saved/Updated details for booking MJA00219423                                                                                                
           INFO     Saved/Updated details for booking MJA00219424                                                                                                
           INFO     Saved/Updated details for booking MJA00219425                                                                                                
           INFO     Saved/Updated details for booking MJA00219426                                                                                                
           INFO     Saved/Updated details for booking MJA00219427                                                                                                
           DEBUG    Found hints for MJR MJR00159525: Count=5, Type='Face To Face'                                                                                
           INFO     Updated hints (4 records) for MJR MJR00159525.                                                                                               
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:35:36] DEBUG    Executing second back() command.                                                                                                             
[11:35:38] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00219423)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:35:39] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113539_445601.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00310466): Extracted MJA ID. Original full desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00310466): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00310466): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00310466): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00310466): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00310466): Final parsed data: {'booking_id': 'MJA00310466', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00310466, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219423): Extracted MJA ID. Original full desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219423): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219423): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219423): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219423): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219423): Final parsed data: {'booking_id': 'MJA00219423', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219423, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219424): Extracted MJA ID. Original full desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219424): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219424): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219424): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219424): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219424): Final parsed data: {'booking_id': 'MJA00219424', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219424, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219425): Extracted MJA ID. Original full desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219425): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219425): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219425): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219425): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219425): Final parsed data: {'booking_id': 'MJA00219425', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219425, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00310466: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00310466 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=383: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00219423: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219423 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1200, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00219424: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219424 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00219425: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219425 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1818, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2436, h=320: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00219425 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00219424 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00219424 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00219424, MJR: None, LastProcMJA: MJA00219424)                                             
           INFO     Attempting click on selected card MJA00219424                                                                                                
[11:35:40] INFO     Clicked card MJA00219424                                                                                                                     
[11:35:41] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:35:42] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00219424)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00159525, Face To Face, Appointments : 5"                                                                      
           DEBUG        Extracted MJR ID: MJR00159525                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 5                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00168719                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00168719', 'mjr_id_raw': 'MJR00159525', 'appointment_count_hint': 5,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00219424                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00219424/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00219424/Secondary/Secondary_MJA00219424_MJB00168719_20250518_113542_148408.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00168719, MJR: MJR00159525, Appt Count: 5, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00219424                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00159525")]      
           DEBUG    Clicked MJR link element for MJR00159525.                                                                                                    
[11:35:43] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00219424, MJR: MJR00159525, LastProcMJA: MJA00219424)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:35:44] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00219424, MJR: MJR00159525)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:35:45] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00159525                                                                                    
           DEBUG    Header Results: MJR='MJR00159525', Total='£ 840.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                          
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00159525'                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_initial_view_00_20250518_113545_453680.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Leeds ET', '6 Grace Street', 'Leeds England LS1 2RP', 'Tribunals - ET | Full hearing', 
                    'Alison Jones', '0113 245 9741', '9.99 Miles']                                                                                               
           DEBUG      Client Name: 'Leeds ET'                                                                                                                    
           DEBUG      Address L1: '6 Grace Street', L2: 'Leeds England LS1 2RP'                                                                                  
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Alison Jones'                                                                                                               
           DEBUG      Contact Phone: '0113 245 9741'                                                                                                             
           DEBUG      Distance: '9.99 Miles'                                                                                                                     
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Leeds ET', 'address_line1_raw': '6 Grace Street',
                    'address_line2_raw': 'Leeds England LS1 2RP', 'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Alison Jones',       
                    'contact_phone_raw': '0113 245 9741', 'distance_raw': '9.99 Miles', 'meeting_link_raw': None}                                                
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 3 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219423                                                                                                           
           INFO       Added new MJA block: MJA00219424                                                                                                           
           INFO       Added new MJA block: MJA00219425                                                                                                           
[11:35:46] DEBUG    Scrolling detail page...                                                                                                                     
[11:35:49] INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_scroll_01_20250518_113549_317902.xml                          
           DEBUG    Extracted 5 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219426                                                                                                           
           INFO       Added new MJA block: MJA00219427                                                                                                           
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_final_view_01_20250518_113549_467690.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 168.0): {'is_multiday': 1, 'mjr_id': 'MJR00159525', 'header_total': 840.0, 'booking_date': None, 'start_time': 
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '16-06-2025 - 20-06-2025', 'multiday_appointment_info': '5 Appointments / 5 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'Leeds ET', 'booking_type': 'Tribunals - ET | Full hearing', 'contact_name':     
                    'Alison Jones', 'contact_phone': '0113 245 9741', 'meeting_link': None, 'address': '6 Grace Street\nLeeds England LS1 2RP',                  
                    'travel_distance': 9.99, 'overall_total': 840.0, 'multiday_payments': [{'mja': 'MJA00219423', 'booking_date': None, 'start_time': None,      
                    'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0, 'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None},      
                    {'mja': 'MJA00219424', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0,         
                    'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00219425',...                                                
           INFO     Processing MULTIDAY save for MJR ID: MJR00159525                                                                                             
           INFO     Saving 5 MJA payment blocks for MJR MJR00159525.                                                                                             
           INFO     Saved/Updated details for booking MJA00219423                                                                                                
           INFO     Saved/Updated details for booking MJA00219424                                                                                                
           INFO     Saved/Updated details for booking MJA00219425                                                                                                
           INFO     Saved/Updated details for booking MJA00219426                                                                                                
           INFO     Saved/Updated details for booking MJA00219427                                                                                                
           DEBUG    Found hints for MJR MJR00159525: Count=5, Type='Face To Face'                                                                                
           DEBUG    No hint updates needed for MJR MJR00159525.                                                                                                  
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:35:50] DEBUG    Executing second back() command.                                                                                                             
[11:35:52] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00219424)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:35:53] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113553_208003.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00310466, 11:00 to 12:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00310466): Extracted MJA ID. Original full desc: 'MJA00310466, 11:00 to 12:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00310466): Parts after MJA ID: ['11:00 to 12:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00310466): Found Duration in part '11:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00310466): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00310466): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00310466): Final parsed data: {'booking_id': 'MJA00310466', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '11:00', 'end_time_raw': '12:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '11:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00310466, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219423): Extracted MJA ID. Original full desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219423): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219423): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219423): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219423): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219423): Final parsed data: {'booking_id': 'MJA00219423', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219423, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219424): Extracted MJA ID. Original full desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219424): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219424): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219424): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219424): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219424): Final parsed data: {'booking_id': 'MJA00219424', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219424, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219425): Extracted MJA ID. Original full desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219425): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219425): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219425): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219425): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219425): Final parsed data: {'booking_id': 'MJA00219425', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219425, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00310466: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00310466 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=383: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00219423: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219423 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1200, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00219424: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219424 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1818, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00219425: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219425 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2436, h=320: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00219425 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00219424' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00219424 to use as scroll anchor.                                                                                
[11:35:55] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00017f13 with percent: 0.6                                                             
[11:35:56] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113556_323816.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:35:57] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:35:59] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00219424)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
[11:36:00] DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219423): Extracted MJA ID. Original full desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219423): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219423): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219423): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219423): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219423): Final parsed data: {'booking_id': 'MJA00219423', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219423, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219424): Extracted MJA ID. Original full desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219424): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219424): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219424): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219424): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219424): Final parsed data: {'booking_id': 'MJA00219424', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219424, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219425): Extracted MJA ID. Original full desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219425): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219425): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219425): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219425): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219425): Final parsed data: {'booking_id': 'MJA00219425', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219425, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219426): Extracted MJA ID. Original full desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219426): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219426): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219426): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219426): Final parsed data: {'booking_id': 'MJA00219426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219426, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00219423: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219423 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=85: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00219424: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219424 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=902, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00219425: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219425 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00219426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219426 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1520, h=464: FullyVis=True (Bounds:449-2543)                                                               
[11:36:01] DEBUG    Visibility check for element at y=2138, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00219426 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00219425 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00219425 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00219425, MJR: None, LastProcMJA: MJA00219425)                                             
           INFO     Attempting click on selected card MJA00219425                                                                                                
           INFO     Clicked card MJA00219425                                                                                                                     
[11:36:02] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:36:03] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00219425)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00159525, Face To Face, Appointments : 5"                                                                      
           DEBUG        Extracted MJR ID: MJR00159525                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 5                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00168719                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00168719', 'mjr_id_raw': 'MJR00159525', 'appointment_count_hint': 5,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00219425                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00219425/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00219425/Secondary/Secondary_MJA00219425_MJB00168719_20250518_113603_196097.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00168719, MJR: MJR00159525, Appt Count: 5, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00219425                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00159525")]      
           DEBUG    Clicked MJR link element for MJR00159525.                                                                                                    
[11:36:04] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00219425, MJR: MJR00159525, LastProcMJA: MJA00219425)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:36:05] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00219425, MJR: MJR00159525)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:36:06] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00159525                                                                                    
           DEBUG    Header Results: MJR='MJR00159525', Total='£ 840.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                          
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00159525'                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_initial_view_00_20250518_113606_447309.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Leeds ET', '6 Grace Street', 'Leeds England LS1 2RP', 'Tribunals - ET | Full hearing', 
                    'Alison Jones', '0113 245 9741', '9.99 Miles']                                                                                               
           DEBUG      Client Name: 'Leeds ET'                                                                                                                    
           DEBUG      Address L1: '6 Grace Street', L2: 'Leeds England LS1 2RP'                                                                                  
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Alison Jones'                                                                                                               
           DEBUG      Contact Phone: '0113 245 9741'                                                                                                             
           DEBUG      Distance: '9.99 Miles'                                                                                                                     
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Leeds ET', 'address_line1_raw': '6 Grace Street',
                    'address_line2_raw': 'Leeds England LS1 2RP', 'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Alison Jones',       
                    'contact_phone_raw': '0113 245 9741', 'distance_raw': '9.99 Miles', 'meeting_link_raw': None}                                                
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 3 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219423                                                                                                           
           INFO       Added new MJA block: MJA00219424                                                                                                           
           INFO       Added new MJA block: MJA00219425                                                                                                           
[11:36:07] DEBUG    Scrolling detail page...                                                                                                                     
[11:36:09] INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_scroll_01_20250518_113609_864922.xml                          
           DEBUG    Extracted 5 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219426                                                                                                           
           INFO       Added new MJA block: MJA00219427                                                                                                           
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
[11:36:10] INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_final_view_01_20250518_113610_004595.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 168.0): {'is_multiday': 1, 'mjr_id': 'MJR00159525', 'header_total': 840.0, 'booking_date': None, 'start_time': 
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '16-06-2025 - 20-06-2025', 'multiday_appointment_info': '5 Appointments / 5 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'Leeds ET', 'booking_type': 'Tribunals - ET | Full hearing', 'contact_name':     
                    'Alison Jones', 'contact_phone': '0113 245 9741', 'meeting_link': None, 'address': '6 Grace Street\nLeeds England LS1 2RP',                  
                    'travel_distance': 9.99, 'overall_total': 840.0, 'multiday_payments': [{'mja': 'MJA00219423', 'booking_date': None, 'start_time': None,      
                    'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0, 'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None},      
                    {'mja': 'MJA00219424', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0,         
                    'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00219425',...                                                
           INFO     Processing MULTIDAY save for MJR ID: MJR00159525                                                                                             
           INFO     Saving 5 MJA payment blocks for MJR MJR00159525.                                                                                             
           INFO     Saved/Updated details for booking MJA00219423                                                                                                
           INFO     Saved/Updated details for booking MJA00219424                                                                                                
           INFO     Saved/Updated details for booking MJA00219425                                                                                                
           INFO     Saved/Updated details for booking MJA00219426                                                                                                
           INFO     Saved/Updated details for booking MJA00219427                                                                                                
           DEBUG    Found hints for MJR MJR00159525: Count=5, Type='Face To Face'                                                                                
           DEBUG    No hint updates needed for MJR MJR00159525.                                                                                                  
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:36:11] DEBUG    Executing second back() command.                                                                                                             
[11:36:12] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00219425)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:36:13] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113613_651813.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219423): Extracted MJA ID. Original full desc: 'MJA00219423, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219423): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219423): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219423): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219423): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219423): Final parsed data: {'booking_id': 'MJA00219423', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219423, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219424): Extracted MJA ID. Original full desc: 'MJA00219424, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219424): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219424): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219424): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219424): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219424): Final parsed data: {'booking_id': 'MJA00219424', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219424, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219425): Extracted MJA ID. Original full desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219425): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219425): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219425): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219425): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219425): Final parsed data: {'booking_id': 'MJA00219425', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219425, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219426): Extracted MJA ID. Original full desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219426): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219426): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219426): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219426): Final parsed data: {'booking_id': 'MJA00219426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219426, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00219423: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219423 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=85: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00219424: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219424 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=902, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00219425: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219425 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:36:14] DEBUG    Visibility check for element at y=1520, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00219426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219426 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2138, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00219426 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00219425' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00219425 to use as scroll anchor.                                                                                
[11:36:15] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00018120 with percent: 0.6                                                             
[11:36:16] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113616_662940.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:36:17] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:36:19] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00219425)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
[11:36:20] DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219425): Extracted MJA ID. Original full desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219425): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219425): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219425): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219425): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219425): Final parsed data: {'booking_id': 'MJA00219425', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219425, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219426): Extracted MJA ID. Original full desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219426): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219426): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219426): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219426): Final parsed data: {'booking_id': 'MJA00219426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219427): Extracted MJA ID. Original full desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219427): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219427): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219427): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219427): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219427): Final parsed data: {'booking_id': 'MJA00219427', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219427, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00316624): Extracted MJA ID. Original full desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00316624): Parts after MJA ID: ['BD1 1LA', '10:00 to 11:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00316624): Found Duration in part '10:00 to 11:00'                                                                             
           DEBUG    MJA Parse (MJA00316624): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00316624): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00316624): Final parsed data: {'booking_id': 'MJA00316624', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '11:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 11:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00316624, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00219425: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219425 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=337: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00219426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219426 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00219427: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219427 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00316624: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00316624 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1154, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=1772, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2390, h=366: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00316624 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00219426 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00219426 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00219426, MJR: None, LastProcMJA: MJA00219426)                                             
           INFO     Attempting click on selected card MJA00219426                                                                                                
           INFO     Clicked card MJA00219426                                                                                                                     
[11:36:22] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00219426)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00159525, Face To Face, Appointments : 5"                                                                      
           DEBUG        Extracted MJR ID: MJR00159525                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 5                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00168719                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00168719', 'mjr_id_raw': 'MJR00159525', 'appointment_count_hint': 5,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00219426                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00219426/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00219426/Secondary/Secondary_MJA00219426_MJB00168719_20250518_113622_638577.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00168719, MJR: MJR00159525, Appt Count: 5, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00219426                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00159525")]      
           DEBUG    Clicked MJR link element for MJR00159525.                                                                                                    
[11:36:24] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00219426, MJR: MJR00159525, LastProcMJA: MJA00219426)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00219426, MJR: MJR00159525)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:36:25] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00159525                                                                                    
           DEBUG    Header Results: MJR='MJR00159525', Total='£ 840.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                          
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00159525'                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_initial_view_00_20250518_113625_983044.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Leeds ET', '6 Grace Street', 'Leeds England LS1 2RP', 'Tribunals - ET | Full hearing', 
                    'Alison Jones', '0113 245 9741', '9.99 Miles']                                                                                               
           DEBUG      Client Name: 'Leeds ET'                                                                                                                    
           DEBUG      Address L1: '6 Grace Street', L2: 'Leeds England LS1 2RP'                                                                                  
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Alison Jones'                                                                                                               
           DEBUG      Contact Phone: '0113 245 9741'                                                                                                             
           DEBUG      Distance: '9.99 Miles'                                                                                                                     
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Leeds ET', 'address_line1_raw': '6 Grace Street',
                    'address_line2_raw': 'Leeds England LS1 2RP', 'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Alison Jones',       
                    'contact_phone_raw': '0113 245 9741', 'distance_raw': '9.99 Miles', 'meeting_link_raw': None}                                                
           INFO     Starting scroll loop for payments...                                                                                                         
[11:36:26] DEBUG    Extracted 3 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219423                                                                                                           
           INFO       Added new MJA block: MJA00219424                                                                                                           
           INFO       Added new MJA block: MJA00219425                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:36:29] INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_scroll_01_20250518_113629_375343.xml                          
           DEBUG    Extracted 5 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219426                                                                                                           
           INFO       Added new MJA block: MJA00219427                                                                                                           
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_final_view_01_20250518_113629_514426.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 168.0): {'is_multiday': 1, 'mjr_id': 'MJR00159525', 'header_total': 840.0, 'booking_date': None, 'start_time': 
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '16-06-2025 - 20-06-2025', 'multiday_appointment_info': '5 Appointments / 5 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'Leeds ET', 'booking_type': 'Tribunals - ET | Full hearing', 'contact_name':     
                    'Alison Jones', 'contact_phone': '0113 245 9741', 'meeting_link': None, 'address': '6 Grace Street\nLeeds England LS1 2RP',                  
                    'travel_distance': 9.99, 'overall_total': 840.0, 'multiday_payments': [{'mja': 'MJA00219423', 'booking_date': None, 'start_time': None,      
                    'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0, 'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None},      
                    {'mja': 'MJA00219424', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0,         
                    'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00219425',...                                                
           INFO     Processing MULTIDAY save for MJR ID: MJR00159525                                                                                             
           INFO     Saving 5 MJA payment blocks for MJR MJR00159525.                                                                                             
           INFO     Saved/Updated details for booking MJA00219423                                                                                                
           INFO     Saved/Updated details for booking MJA00219424                                                                                                
           INFO     Saved/Updated details for booking MJA00219425                                                                                                
           INFO     Saved/Updated details for booking MJA00219426                                                                                                
           INFO     Saved/Updated details for booking MJA00219427                                                                                                
           DEBUG    Found hints for MJR MJR00159525: Count=5, Type='Face To Face'                                                                                
           DEBUG    No hint updates needed for MJR MJR00159525.                                                                                                  
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:36:30] DEBUG    Executing second back() command.                                                                                                             
[11:36:32] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00219426)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:36:33] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113633_196175.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219425): Extracted MJA ID. Original full desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219425): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219425): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219425): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219425): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219425): Final parsed data: {'booking_id': 'MJA00219425', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219425, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219426): Extracted MJA ID. Original full desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219426): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219426): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219426): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219426): Final parsed data: {'booking_id': 'MJA00219426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219427): Extracted MJA ID. Original full desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219427): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219427): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219427): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219427): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219427): Final parsed data: {'booking_id': 'MJA00219427', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219427, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00316624): Extracted MJA ID. Original full desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00316624): Parts after MJA ID: ['BD1 1LA', '10:00 to 11:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00316624): Found Duration in part '10:00 to 11:00'                                                                             
           DEBUG    MJA Parse (MJA00316624): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00316624): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00316624): Final parsed data: {'booking_id': 'MJA00316624', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '11:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 11:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00316624, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00219425: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219425 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=337: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00219426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219426 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1154, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00219427: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219427 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00316624: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00316624 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1772, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2390, h=366: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00316624 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00219427 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00219427 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00219427, MJR: None, LastProcMJA: MJA00219427)                                             
           INFO     Attempting click on selected card MJA00219427                                                                                                
           INFO     Clicked card MJA00219427                                                                                                                     
[11:36:35] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00219427)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00159525, Face To Face, Appointments : 5"                                                                      
           DEBUG        Extracted MJR ID: MJR00159525                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 5                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00168719                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00168719', 'mjr_id_raw': 'MJR00159525', 'appointment_count_hint': 5,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00219427                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00219427/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00219427/Secondary/Secondary_MJA00219427_MJB00168719_20250518_113635_828269.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00168719, MJR: MJR00159525, Appt Count: 5, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00219427                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00159525")]      
           DEBUG    Clicked MJR link element for MJR00159525.                                                                                                    
[11:36:37] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00219427, MJR: MJR00159525, LastProcMJA: MJA00219427)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00219427, MJR: MJR00159525)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:36:39] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00159525                                                                                    
           DEBUG    Header Results: MJR='MJR00159525', Total='£ 840.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                          
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00159525'                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_initial_view_00_20250518_113639_147700.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Leeds ET', '6 Grace Street', 'Leeds England LS1 2RP', 'Tribunals - ET | Full hearing', 
                    'Alison Jones', '0113 245 9741', '9.99 Miles']                                                                                               
           DEBUG      Client Name: 'Leeds ET'                                                                                                                    
           DEBUG      Address L1: '6 Grace Street', L2: 'Leeds England LS1 2RP'                                                                                  
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Alison Jones'                                                                                                               
           DEBUG      Contact Phone: '0113 245 9741'                                                                                                             
           DEBUG      Distance: '9.99 Miles'                                                                                                                     
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Leeds ET', 'address_line1_raw': '6 Grace Street',
                    'address_line2_raw': 'Leeds England LS1 2RP', 'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Alison Jones',       
                    'contact_phone_raw': '0113 245 9741', 'distance_raw': '9.99 Miles', 'meeting_link_raw': None}                                                
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 3 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219423                                                                                                           
           INFO       Added new MJA block: MJA00219424                                                                                                           
           INFO       Added new MJA block: MJA00219425                                                                                                           
           DEBUG    Scrolling detail page...                                                                                                                     
[11:36:42] INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_scroll_01_20250518_113642_582987.xml                          
           DEBUG    Extracted 5 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00219426                                                                                                           
           INFO       Added new MJA block: MJA00219427                                                                                                           
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00159525/Detail_MJR/Detail_MJR_MJR00159525_final_view_01_20250518_113642_971425.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 168.0): {'is_multiday': 1, 'mjr_id': 'MJR00159525', 'header_total': 840.0, 'booking_date': None, 'start_time': 
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '16-06-2025 - 20-06-2025', 'multiday_appointment_info': '5 Appointments / 5 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'Leeds ET', 'booking_type': 'Tribunals - ET | Full hearing', 'contact_name':     
                    'Alison Jones', 'contact_phone': '0113 245 9741', 'meeting_link': None, 'address': '6 Grace Street\nLeeds England LS1 2RP',                  
                    'travel_distance': 9.99, 'overall_total': 840.0, 'multiday_payments': [{'mja': 'MJA00219423', 'booking_date': None, 'start_time': None,      
                    'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0, 'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None},      
                    {'mja': 'MJA00219424', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': 2.0,         
                    'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00219425',...                                                
           INFO     Processing MULTIDAY save for MJR ID: MJR00159525                                                                                             
           INFO     Saving 5 MJA payment blocks for MJR MJR00159525.                                                                                             
           INFO     Saved/Updated details for booking MJA00219423                                                                                                
           INFO     Saved/Updated details for booking MJA00219424                                                                                                
           INFO     Saved/Updated details for booking MJA00219425                                                                                                
           INFO     Saved/Updated details for booking MJA00219426                                                                                                
           INFO     Saved/Updated details for booking MJA00219427                                                                                                
           DEBUG    Found hints for MJR MJR00159525: Count=5, Type='Face To Face'                                                                                
           DEBUG    No hint updates needed for MJR MJR00159525.                                                                                                  
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:36:44] DEBUG    Executing second back() command.                                                                                                             
[11:36:46] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00219427)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113646_711349.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219425): Extracted MJA ID. Original full desc: 'MJA00219425, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219425): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219425): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219425): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219425): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219425): Final parsed data: {'booking_id': 'MJA00219425', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219425, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219426): Extracted MJA ID. Original full desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219426): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219426): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219426): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219426): Final parsed data: {'booking_id': 'MJA00219426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219427): Extracted MJA ID. Original full desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219427): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219427): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219427): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219427): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219427): Final parsed data: {'booking_id': 'MJA00219427', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219427, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00316624): Extracted MJA ID. Original full desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00316624): Parts after MJA ID: ['BD1 1LA', '10:00 to 11:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00316624): Found Duration in part '10:00 to 11:00'                                                                             
           DEBUG    MJA Parse (MJA00316624): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00316624): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00316624): Final parsed data: {'booking_id': 'MJA00316624', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '11:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 11:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00316624, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00219425: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219425 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=337: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00219426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219426 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:36:47] DEBUG    Visibility check for element at y=1154, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00219427: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219427 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1772, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00316624: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00316624 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2390, h=366: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00316624 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00219427' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00219427 to use as scroll anchor.                                                                                
[11:36:48] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff0001857a with percent: 0.6                                                             
[11:36:49] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113649_785671.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:36:50] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:36:52] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00219427)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
[11:36:53] DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219426): Extracted MJA ID. Original full desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219426): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219426): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219426): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219426): Final parsed data: {'booking_id': 'MJA00219426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219427): Extracted MJA ID. Original full desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219427): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219427): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219427): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219427): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219427): Final parsed data: {'booking_id': 'MJA00219427', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219427, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00316624): Extracted MJA ID. Original full desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00316624): Parts after MJA ID: ['BD1 1LA', '10:00 to 11:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00316624): Found Duration in part '10:00 to 11:00'                                                                             
           DEBUG    MJA Parse (MJA00316624): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00316624): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00316624): Final parsed data: {'booking_id': 'MJA00316624', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '11:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 11:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00316624, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215619): Extracted MJA ID. Original full desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215619): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215619): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215619): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215619): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215619): Final parsed data: {'booking_id': 'MJA00215619', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215619, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215620): Extracted MJA ID. Original full desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215620): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215620): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215620): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215620): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215620): Final parsed data: {'booking_id': 'MJA00215620', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215620, Status: Normal                                                                                        
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00219426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219426 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=19: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00219427: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219427 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=836, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00316624: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00316624 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00215619: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215619 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00215620: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215620 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1454, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2072, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2690, h=66: FullyVis=False (Bounds:449-2543)                                                               
           DEBUG    Card MJA00215620 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00316624 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00316624 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00316624, MJR: None, LastProcMJA: MJA00316624)                                             
           INFO     Attempting click on selected card MJA00316624                                                                                                
           INFO     Clicked card MJA00316624                                                                                                                     
[11:36:55] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00316624)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00239124, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00239124                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00250864                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00250864', 'mjr_id_raw': 'MJR00239124', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00316624                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00316624/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00316624/Secondary/Secondary_MJA00316624_MJB00250864_20250518_113655_711723.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00250864, MJR: MJR00239124, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00316624                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00239124")]      
           DEBUG    Clicked MJR link element for MJR00239124.                                                                                                    
[11:36:57] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00316624, MJR: MJR00239124, LastProcMJA: MJA00316624)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00316624, MJR: MJR00239124)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:36:59] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00239124                                                                                    
           DEBUG    Header Results: MJR='MJR00239124', Total='£ 60.32', MultiDay=False, LangIdx=4, DateTimeTuple='('23-06-2025 At', '10:00 - 11:00')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00239124'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00239124                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00239124/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00239124/Detail_MJR/Detail_MJR_MJR00239124_initial_view_00_20250518_113659_191976.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ['Bradford Combined Court - County Court', "Bradford Magistrates' Court", 'The Tyrls The 
                    Tyrls Bradford England BD1 1LA', "Family - Children's cases Private law | First hearing - FHDRA", 'Lindsey Walker', '01274 840658', '5.79    
                    Miles']                                                                                                                                      
           DEBUG      Client Name: 'Bradford Combined Court - County Court'                                                                                      
           DEBUG      Address L1: 'Bradford Magistrates' Court', L2: 'The Tyrls The Tyrls Bradford England BD1 1LA'                                              
           DEBUG      Booking Type: 'Family - Children's cases Private law | First hearing - FHDRA'                                                              
           DEBUG      Contact Name: 'Lindsey Walker'                                                                                                             
           DEBUG      Contact Phone: '01274 840658'                                                                                                              
           DEBUG      Distance: '5.79 Miles'                                                                                                                     
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Bradford Combined Court - County Court',         
                    'address_line1_raw': "Bradford Magistrates' Court", 'address_line2_raw': 'The Tyrls The Tyrls Bradford England BD1 1LA', 'booking_type_raw': 
                    "Family - Children's cases Private law | First hearing - FHDRA", 'contact_name_raw': 'Lindsey Walker', 'contact_phone_raw': '01274 840658',  
                    'distance_raw': '5.79 Miles', 'meeting_link_raw': None}                                                                                      
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00316624                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 60.32): {'is_multiday': 0, 'mjr_id': 'MJR00239124', 'header_total': 60.32, 'booking_date': '23-06-2025',       
                    'start_time': '10:00:00', 'end_time': '11:00:00', 'duration': '01:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Bradford Combined Court - County Court', 'booking_type': "Family - Children's cases    
                    Private law | First hearing - FHDRA", 'contact_name': 'Lindsey Walker', 'contact_phone': '01274 840658', 'meeting_link': None, 'address':    
                    "Bradford Magistrates' Court\nThe Tyrls The Tyrls Bradford England BD1 1LA", 'travel_distance': 5.79, 'overall_total': 60.32,                
                    'multiday_payments': None, 'mja_id': 'MJA00316624', 'day_pay_sl': 40.0, 'day_pay_td': 0.32, 'day_pay_tt': None, 'day_pay_aep': 20.0,         
                    'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 60.32, 'notes': 'Please note this hearing will take place face to face, please report 
                    to the ushers station on the upper concourse'}...                                                                                            
           INFO     Processing SINGLE DAY save for MJA: MJA00316624 (MJR: MJR00239124)                                                                           
           INFO     Saved/Updated details for booking MJA00316624                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:37:00] DEBUG    Executing second back() command.                                                                                                             
[11:37:02] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00316624)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:37:03] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113703_244718.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219426): Extracted MJA ID. Original full desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219426): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219426): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219426): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219426): Final parsed data: {'booking_id': 'MJA00219426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219427): Extracted MJA ID. Original full desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219427): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219427): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219427): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219427): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219427): Final parsed data: {'booking_id': 'MJA00219427', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219427, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00316624): Extracted MJA ID. Original full desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00316624): Parts after MJA ID: ['BD1 1LA', '10:00 to 11:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00316624): Found Duration in part '10:00 to 11:00'                                                                             
           DEBUG    MJA Parse (MJA00316624): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00316624): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00316624): Final parsed data: {'booking_id': 'MJA00316624', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '11:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 11:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00316624, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215619): Extracted MJA ID. Original full desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215619): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215619): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215619): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215619): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215619): Final parsed data: {'booking_id': 'MJA00215619', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215619, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215620): Extracted MJA ID. Original full desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215620): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215620): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215620): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215620): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215620): Final parsed data: {'booking_id': 'MJA00215620', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215620, Status: Normal                                                                                        
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00219426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219426 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=19: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00219427: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219427 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=836, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00316624: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00316624 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1454, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00215619: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215619 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00215620: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215620 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2072, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2690, h=66: FullyVis=False (Bounds:449-2543)                                                               
           DEBUG    Card MJA00215620 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00215619 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00215619 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00215619, MJR: None, LastProcMJA: MJA00215619)                                             
           INFO     Attempting click on selected card MJA00215619                                                                                                
           INFO     Clicked card MJA00215619                                                                                                                     
[11:37:05] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00215619)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00156403, Video Remote Interpreting, Appointments : 2"                                                         
           DEBUG        Extracted MJR ID: MJR00156403                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 2                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00165506                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00165506', 'mjr_id_raw': 'MJR00156403', 'appointment_count_hint': 2,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           DEBUG    Created directory: xml_capture_base/MJA00215619                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00215619/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00215619/Secondary/Secondary_MJA00215619_MJB00165506_20250518_113705_952926.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00165506, MJR: MJR00156403, Appt Count: 2, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00215619                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00156403")]      
[11:37:06] DEBUG    Clicked MJR link element for MJR00156403.                                                                                                    
[11:37:07] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00215619, MJR: MJR00156403, LastProcMJA: MJA00215619)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:37:08] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00215619, MJR: MJR00156403)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:37:09] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00156403                                                                                    
           DEBUG    Header Results: MJR='MJR00156403', Total='£ 332.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                          
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00156403'                                                                                         
           DEBUG    Created directory: xml_capture_base/MJR00156403                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00156403/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00156403/Detail_MJR/Detail_MJR_MJR00156403_initial_view_00_20250518_113709_203033.xml                    
           DEBUG    Info block scan range: 6 to 9. Processing 3 items: ['London South ET', 'Tribunals - ET | Full hearing', 'Helen Cattley']                     
           DEBUG      Client Name: 'London South ET'                                                                                                             
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Helen Cattley'                                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'London South ET', 'address_line1_raw': None,     
                    'address_line2_raw': None, 'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Helen Cattley', 'contact_phone_raw':    
                    None, 'distance_raw': None, 'meeting_link_raw': None}                                                                                        
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00215619                                                                                                           
           INFO       Added new MJA block: MJA00215620                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 166.0): {'is_multiday': 1, 'mjr_id': 'MJR00156403', 'header_total': 332.0, 'booking_date': None, 'start_time': 
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '01-07-2025 - 02-07-2025', 'multiday_appointment_info': '2 Appointments / 2 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'London South ET', 'booking_type': 'Tribunals - ET | Full hearing',              
                    'contact_name': 'Helen Cattley', 'contact_phone': None, 'meeting_link': None, 'address': None, 'travel_distance': None, 'overall_total':     
                    332.0, 'multiday_payments': [{'mja': 'MJA00215619', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl':  
                    156.0, 'pay_td': None, 'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00215620', 'booking_date': None,      
                    'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': None, 'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None,   
                    'pay_urg': None}], 'mja_id': None, 'day_pay_sl': None, 'day_pay_td': None, '...                                                              
           INFO     Processing MULTIDAY save for MJR ID: MJR00156403                                                                                             
           INFO     Saving 2 MJA payment blocks for MJR MJR00156403.                                                                                             
           INFO     Saved/Updated details for booking MJA00215619                                                                                                
           INFO     Saved/Updated details for booking MJA00215620                                                                                                
           DEBUG    Found hints for MJR MJR00156403: Count=2, Type='Video Remote Interpreting'                                                                   
           INFO     Updated hints (1 records) for MJR MJR00156403.                                                                                               
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:37:10] DEBUG    Executing second back() command.                                                                                                             
[11:37:12] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00215619)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
[11:37:13] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113713_048769.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219426): Extracted MJA ID. Original full desc: 'MJA00219426, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219426): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219426): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219426): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219426): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219426): Final parsed data: {'booking_id': 'MJA00219426', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219426, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00219427): Extracted MJA ID. Original full desc: 'MJA00219427, LS1 2RP, 10:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00219427): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00219427): Found Duration in part '10:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00219427): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00219427): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00219427): Final parsed data: {'booking_id': 'MJA00219427', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:30', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00219427, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00316624): Extracted MJA ID. Original full desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00316624): Parts after MJA ID: ['BD1 1LA', '10:00 to 11:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00316624): Found Duration in part '10:00 to 11:00'                                                                             
           DEBUG    MJA Parse (MJA00316624): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00316624): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00316624): Final parsed data: {'booking_id': 'MJA00316624', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '11:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 11:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00316624, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215619): Extracted MJA ID. Original full desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215619): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215619): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215619): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215619): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215619): Final parsed data: {'booking_id': 'MJA00215619', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215619, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215620): Extracted MJA ID. Original full desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215620): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215620): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215620): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215620): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215620): Final parsed data: {'booking_id': 'MJA00215620', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215620, Status: Normal                                                                                        
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00219426: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219426 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=19: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00219427: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00219427 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=836, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00316624: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00316624 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1454, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00215619: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215619 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=2072, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00215620: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215620 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2690, h=66: FullyVis=False (Bounds:449-2543)                                                               
           DEBUG    Card MJA00215620 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00215619' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00215619 to use as scroll anchor.                                                                                
[11:37:15] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff0001892a with percent: 0.6                                                             
[11:37:16] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113716_145018.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:37:18] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00215619)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:37:19] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00316624): Extracted MJA ID. Original full desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00316624): Parts after MJA ID: ['BD1 1LA', '10:00 to 11:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00316624): Found Duration in part '10:00 to 11:00'                                                                             
           DEBUG    MJA Parse (MJA00316624): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00316624): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00316624): Final parsed data: {'booking_id': 'MJA00316624', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '11:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 11:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00316624, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215619): Extracted MJA ID. Original full desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215619): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215619): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215619): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215619): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215619): Final parsed data: {'booking_id': 'MJA00215619', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215619, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215620): Extracted MJA ID. Original full desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215620): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215620): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215620): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215620): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215620): Final parsed data: {'booking_id': 'MJA00215620', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215620, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00278417): Extracted MJA ID. Original full desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00278417): Parts after MJA ID: ['14:00 to 15:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00278417): Found Duration in part '14:00 to 15:00'                                                                             
           DEBUG    MJA Parse (MJA00278417): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00278417): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00278417): Final parsed data: {'booking_id': 'MJA00278417', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '14:00', 'end_time_raw': '15:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '14:00 to 15:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00278417, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00316624: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00316624 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=386: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00215619: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215619 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1203, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00215620: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215620 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00278417: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00278417 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1821, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2439, h=317: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00278417 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00215620 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00215620 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00215620, MJR: None, LastProcMJA: MJA00215620)                                             
           INFO     Attempting click on selected card MJA00215620                                                                                                
           INFO     Clicked card MJA00215620                                                                                                                     
[11:37:21] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00215620)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00156403, Video Remote Interpreting, Appointments : 2"                                                         
           DEBUG        Extracted MJR ID: MJR00156403                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 2                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00165506                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00165506', 'mjr_id_raw': 'MJR00156403', 'appointment_count_hint': 2,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           DEBUG    Created directory: xml_capture_base/MJA00215620                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00215620/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00215620/Secondary/Secondary_MJA00215620_MJB00165506_20250518_113721_682594.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00165506, MJR: MJR00156403, Appt Count: 2, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00215620                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00156403")]      
           DEBUG    Clicked MJR link element for MJR00156403.                                                                                                    
[11:37:23] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00215620, MJR: MJR00156403, LastProcMJA: MJA00215620)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00215620, MJR: MJR00156403)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:37:25] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00156403                                                                                    
           DEBUG    Header Results: MJR='MJR00156403', Total='£ 332.00', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                          
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00156403'                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJR00156403/Detail_MJR/Detail_MJR_MJR00156403_initial_view_00_20250518_113725_269439.xml                    
           DEBUG    Info block scan range: 6 to 9. Processing 3 items: ['London South ET', 'Tribunals - ET | Full hearing', 'Helen Cattley']                     
           DEBUG      Client Name: 'London South ET'                                                                                                             
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Helen Cattley'                                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'London South ET', 'address_line1_raw': None,     
                    'address_line2_raw': None, 'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Helen Cattley', 'contact_phone_raw':    
                    None, 'distance_raw': None, 'meeting_link_raw': None}                                                                                        
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00215619                                                                                                           
           INFO       Added new MJA block: MJA00215620                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 166.0): {'is_multiday': 1, 'mjr_id': 'MJR00156403', 'header_total': 332.0, 'booking_date': None, 'start_time': 
                    None, 'end_time': None, 'duration': None, 'multiday_date_range': '01-07-2025 - 02-07-2025', 'multiday_appointment_info': '2 Appointments / 2 
                    Days', 'language_pair': 'English to Polish', 'client_name': 'London South ET', 'booking_type': 'Tribunals - ET | Full hearing',              
                    'contact_name': 'Helen Cattley', 'contact_phone': None, 'meeting_link': None, 'address': None, 'travel_distance': None, 'overall_total':     
                    332.0, 'multiday_payments': [{'mja': 'MJA00215619', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl':  
                    156.0, 'pay_td': None, 'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00215620', 'booking_date': None,      
                    'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 156.0, 'pay_td': None, 'pay_tt': None, 'pay_aep': 10.0, 'pay_ooh': None,   
                    'pay_urg': None}], 'mja_id': None, 'day_pay_sl': None, 'day_pay_td': None, '...                                                              
           INFO     Processing MULTIDAY save for MJR ID: MJR00156403                                                                                             
           INFO     Saving 2 MJA payment blocks for MJR MJR00156403.                                                                                             
           INFO     Saved/Updated details for booking MJA00215619                                                                                                
           INFO     Saved/Updated details for booking MJA00215620                                                                                                
           DEBUG    Found hints for MJR MJR00156403: Count=2, Type='Video Remote Interpreting'                                                                   
           DEBUG    No hint updates needed for MJR MJR00156403.                                                                                                  
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:37:26] DEBUG    Executing second back() command.                                                                                                             
[11:37:28] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00215620)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:37:29] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113729_477569.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00316624): Extracted MJA ID. Original full desc: 'MJA00316624, BD1 1LA, 10:00 to 11:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00316624): Parts after MJA ID: ['BD1 1LA', '10:00 to 11:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00316624): Found Duration in part '10:00 to 11:00'                                                                             
           DEBUG    MJA Parse (MJA00316624): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00316624): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00316624): Final parsed data: {'booking_id': 'MJA00316624', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '11:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 11:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00316624, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215619): Extracted MJA ID. Original full desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215619): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215619): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215619): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215619): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215619): Final parsed data: {'booking_id': 'MJA00215619', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215619, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215620): Extracted MJA ID. Original full desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215620): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215620): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215620): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215620): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215620): Final parsed data: {'booking_id': 'MJA00215620', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215620, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00278417): Extracted MJA ID. Original full desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00278417): Parts after MJA ID: ['14:00 to 15:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00278417): Found Duration in part '14:00 to 15:00'                                                                             
           DEBUG    MJA Parse (MJA00278417): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00278417): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00278417): Final parsed data: {'booking_id': 'MJA00278417', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '14:00', 'end_time_raw': '15:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '14:00 to 15:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00278417, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00316624: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00316624 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=386: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00215619: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215619 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1203, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00215620: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215620 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1821, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00278417: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00278417 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
[11:37:30] DEBUG    Visibility check for element at y=2439, h=317: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00278417 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00215620' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00215620 to use as scroll anchor.                                                                                
[11:37:31] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00018b03 with percent: 0.6                                                             
[11:37:32] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113732_663979.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:37:33] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:37:35] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00215620)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215619): Extracted MJA ID. Original full desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215619): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215619): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215619): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215619): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215619): Final parsed data: {'booking_id': 'MJA00215619', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215619, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215620): Extracted MJA ID. Original full desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215620): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215620): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215620): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215620): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215620): Final parsed data: {'booking_id': 'MJA00215620', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215620, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00278417): Extracted MJA ID. Original full desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00278417): Parts after MJA ID: ['14:00 to 15:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00278417): Found Duration in part '14:00 to 15:00'                                                                             
           DEBUG    MJA Parse (MJA00278417): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00278417): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00278417): Final parsed data: {'booking_id': 'MJA00278417', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '14:00', 'end_time_raw': '15:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '14:00 to 15:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00278417, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00270265): Extracted MJA ID. Original full desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00270265): Parts after MJA ID: ['HU1 1RD', '09:00 to 12:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00270265): Found Duration in part '09:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00270265): Found Postcode in part 'HU1 1RD' -> HU1 1RD                                                                         
           DEBUG    MJA Parse (MJA00270265): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00270265): Final parsed data: {'booking_id': 'MJA00270265', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU1 1RD', 'start_time_raw': '09:00', 'end_time_raw': '12:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00270265, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00308444): Extracted MJA ID. Original full desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00308444): Parts after MJA ID: ['BD1 1LA', '14:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00308444): Found Duration in part '14:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00308444): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00308444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308444): Final parsed data: {'booking_id': 'MJA00308444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '14:00', 'end_time_raw': '16:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308444, Status: Normal                                                                                        
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00215619: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215619 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=78: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00215620: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215620 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:37:36] DEBUG    Visibility check for element at y=895, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00278417: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00278417 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00270265: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00270265 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00308444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308444 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1513, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2058, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2675, h=81: FullyVis=False (Bounds:449-2543)                                                               
           DEBUG    Card MJA00308444 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00278417 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00278417 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00278417, MJR: None, LastProcMJA: MJA00278417)                                             
           INFO     Attempting click on selected card MJA00278417                                                                                                
           INFO     Clicked card MJA00278417                                                                                                                     
[11:37:37] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:37:38] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00278417)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00207361, Video Remote Interpreting, Appointments : 1"                                                         
           DEBUG        Extracted MJR ID: MJR00207361                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00218327                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00218327', 'mjr_id_raw': 'MJR00207361', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           DEBUG    Created directory: xml_capture_base/MJA00278417                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00278417/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00278417/Secondary/Secondary_MJA00278417_MJB00218327_20250518_113738_427225.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00218327, MJR: MJR00207361, Appt Count: 1, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00278417                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00207361")]      
           DEBUG    Clicked MJR link element for MJR00207361.                                                                                                    
[11:37:40] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00278417, MJR: MJR00207361, LastProcMJA: MJA00278417)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00278417, MJR: MJR00207361)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:37:41] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00207361                                                                                    
           DEBUG    Header Results: MJR='MJR00207361', Total='£ 44.00', MultiDay=False, LangIdx=4, DateTimeTuple='('03-07-2025 At', '14:00 - 15:00')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00207361'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00207361                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00207361/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00207361/Detail_MJR/Detail_MJR_MJR00207361_initial_view_00_20250518_113741_772749.xml                    
           DEBUG    Info block scan range: 5 to 9. Processing 4 items: ['Peterborough Combined Court - County Court', "Family - Children's cases Private law |   
                    Further hearing", 'Lisa Preston', '01733 426980']                                                                                            
           DEBUG      Client Name: 'Peterborough Combined Court - County Court'                                                                                  
           DEBUG      Booking Type: 'Family - Children's cases Private law | Further hearing'                                                                    
           DEBUG      Contact Name: 'Lisa Preston'                                                                                                               
           DEBUG      Contact Phone: '01733 426980'                                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Peterborough Combined Court - County Court',     
                    'address_line1_raw': None, 'address_line2_raw': None, 'booking_type_raw': "Family - Children's cases Private law | Further hearing",         
                    'contact_name_raw': 'Lisa Preston', 'contact_phone_raw': '01733 426980', 'distance_raw': None, 'meeting_link_raw': None}                     
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00278417                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 44.0): {'is_multiday': 0, 'mjr_id': 'MJR00207361', 'header_total': 44.0, 'booking_date': '03-07-2025',         
                    'start_time': '14:00:00', 'end_time': '15:00:00', 'duration': '01:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Peterborough Combined Court - County Court', 'booking_type': "Family - Children's cases
                    Private law | Further hearing", 'contact_name': 'Lisa Preston', 'contact_phone': '01733 426980', 'meeting_link': None, 'address': None,      
                    'travel_distance': None, 'overall_total': 44.0, 'multiday_payments': None, 'mja_id': 'MJA00278417', 'day_pay_sl': 24.0, 'day_pay_td': None,  
                    'day_pay_tt': None, 'day_pay_aep': 20.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 44.0, 'notes': None}...                      
           INFO     Processing SINGLE DAY save for MJA: MJA00278417 (MJR: MJR00207361)                                                                           
           INFO     Saved/Updated details for booking MJA00278417                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:37:43] DEBUG    Executing second back() command.                                                                                                             
[11:37:45] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00278417)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113745_722653.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215619): Extracted MJA ID. Original full desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215619): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215619): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215619): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215619): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215619): Final parsed data: {'booking_id': 'MJA00215619', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215619, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215620): Extracted MJA ID. Original full desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215620): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215620): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215620): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215620): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215620): Final parsed data: {'booking_id': 'MJA00215620', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215620, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00278417): Extracted MJA ID. Original full desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00278417): Parts after MJA ID: ['14:00 to 15:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00278417): Found Duration in part '14:00 to 15:00'                                                                             
           DEBUG    MJA Parse (MJA00278417): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00278417): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00278417): Final parsed data: {'booking_id': 'MJA00278417', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '14:00', 'end_time_raw': '15:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '14:00 to 15:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00278417, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00270265): Extracted MJA ID. Original full desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00270265): Parts after MJA ID: ['HU1 1RD', '09:00 to 12:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00270265): Found Duration in part '09:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00270265): Found Postcode in part 'HU1 1RD' -> HU1 1RD                                                                         
           DEBUG    MJA Parse (MJA00270265): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00270265): Final parsed data: {'booking_id': 'MJA00270265', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU1 1RD', 'start_time_raw': '09:00', 'end_time_raw': '12:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00270265, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00308444): Extracted MJA ID. Original full desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00308444): Parts after MJA ID: ['BD1 1LA', '14:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00308444): Found Duration in part '14:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00308444): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00308444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308444): Final parsed data: {'booking_id': 'MJA00308444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '14:00', 'end_time_raw': '16:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308444, Status: Normal                                                                                        
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00215619: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215619 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:37:46] DEBUG    Visibility check for element at y=663, h=78: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00215620: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215620 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=895, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00278417: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00278417 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1513, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00270265: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00270265 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00308444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308444 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2058, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2675, h=81: FullyVis=False (Bounds:449-2543)                                                               
           DEBUG    Card MJA00308444 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00270265 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00270265 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00270265, MJR: None, LastProcMJA: MJA00270265)                                             
           INFO     Attempting click on selected card MJA00270265                                                                                                
           INFO     Clicked card MJA00270265                                                                                                                     
[11:37:48] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00270265)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00200798, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00200798                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00211654                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00211654', 'mjr_id_raw': 'MJR00200798', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00270265                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00270265/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00270265/Secondary/Secondary_MJA00270265_MJB00211654_20250518_113748_910464.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00211654, MJR: MJR00200798, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00270265                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00200798")]      
[11:37:49] DEBUG    Clicked MJR link element for MJR00200798.                                                                                                    
[11:37:50] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00270265, MJR: MJR00200798, LastProcMJA: MJA00270265)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:37:51] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00270265, MJR: MJR00200798)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:37:52] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00200798                                                                                    
           DEBUG    Header Results: MJR='MJR00200798', Total='£ 116.83', MultiDay=False, LangIdx=4, DateTimeTuple='('03-07-2025 At', '09:00 - 12:00')'           
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00200798'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00200798                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00200798/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00200798/Detail_MJR/Detail_MJR_MJR00200798_initial_view_00_20250518_113752_322919.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ['Hull County Court', 'Magistrates Court', 'Market Place Hull England HU1 1RD', "Family -
                    Children's cases - Public law | Issues Resolution Hearing", 'undefined undefined', 'undefined', '65.06 Miles']                               
           DEBUG      Client Name: 'Hull County Court'                                                                                                           
           DEBUG      Address L1: 'Magistrates Court', L2: 'Market Place Hull England HU1 1RD'                                                                   
           DEBUG      Booking Type: 'Family - Children's cases - Public law | Issues Resolution Hearing'                                                         
           DEBUG      Contact Name: 'undefined undefined'                                                                                                        
           DEBUG      Contact Phone: 'undefined'                                                                                                                 
           DEBUG      Distance: '65.06 Miles'                                                                                                                    
           DEBUG    Sanitized 'contact_name_raw' from 'undefined undefined' to None.                                                                             
           DEBUG    Sanitized 'contact_phone_raw' from 'undefined' to None.                                                                                      
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Hull County Court', 'address_line1_raw':         
                    'Magistrates Court', 'address_line2_raw': 'Market Place Hull England HU1 1RD', 'booking_type_raw': "Family - Children's cases - Public law | 
                    Issues Resolution Hearing", 'contact_name_raw': None, 'contact_phone_raw': None, 'distance_raw': '65.06 Miles', 'meeting_link_raw': None}    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00270265                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 116.83): {'is_multiday': 0, 'mjr_id': 'MJR00200798', 'header_total': 116.83, 'booking_date': '03-07-2025',     
                    'start_time': '09:00:00', 'end_time': '12:00:00', 'duration': '03:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Hull County Court', 'booking_type': "Family - Children's cases - Public law | Issues   
                    Resolution Hearing", 'contact_name': None, 'contact_phone': None, 'meeting_link': None, 'address': 'Magistrates Court\nMarket Place Hull     
                    England HU1 1RD', 'travel_distance': 65.06, 'overall_total': 116.83, 'multiday_payments': None, 'mja_id': 'MJA00270265', 'day_pay_sl': 78.0, 
                    'day_pay_td': 24.02, 'day_pay_tt': 4.81, 'day_pay_aep': 10.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 116.83, 'notes':        
                    'Attending Polish interpreter for 03/07/25, 10:00, 2 hours.'}...                                                                             
           INFO     Processing SINGLE DAY save for MJA: MJA00270265 (MJR: MJR00200798)                                                                           
           INFO     Saved/Updated details for booking MJA00270265                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:37:53] DEBUG    Executing second back() command.                                                                                                             
[11:37:55] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00270265)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:37:56] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113756_294397.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 8 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215619, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215619): Extracted MJA ID. Original full desc: 'MJA00215619, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215619): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215619): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215619): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215619): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215619): Final parsed data: {'booking_id': 'MJA00215619', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215619, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00215620, 10:00 to 17:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00215620): Extracted MJA ID. Original full desc: 'MJA00215620, 10:00 to 17:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00215620): Parts after MJA ID: ['10:00 to 17:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00215620): Found Duration in part '10:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00215620): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00215620): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00215620): Final parsed data: {'booking_id': 'MJA00215620', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '17:00', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00215620, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00278417): Extracted MJA ID. Original full desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00278417): Parts after MJA ID: ['14:00 to 15:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00278417): Found Duration in part '14:00 to 15:00'                                                                             
           DEBUG    MJA Parse (MJA00278417): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00278417): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00278417): Final parsed data: {'booking_id': 'MJA00278417', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '14:00', 'end_time_raw': '15:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '14:00 to 15:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00278417, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00270265): Extracted MJA ID. Original full desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00270265): Parts after MJA ID: ['HU1 1RD', '09:00 to 12:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00270265): Found Duration in part '09:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00270265): Found Postcode in part 'HU1 1RD' -> HU1 1RD                                                                         
           DEBUG    MJA Parse (MJA00270265): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00270265): Final parsed data: {'booking_id': 'MJA00270265', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU1 1RD', 'start_time_raw': '09:00', 'end_time_raw': '12:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00270265, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00308444): Extracted MJA ID. Original full desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00308444): Parts after MJA ID: ['BD1 1LA', '14:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00308444): Found Duration in part '14:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00308444): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00308444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308444): Final parsed data: {'booking_id': 'MJA00308444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '14:00', 'end_time_raw': '16:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308444, Status: Normal                                                                                        
           INFO     Successfully extracted data for 5 cards from list page XML source.                                                                           
           INFO     Found data for 5 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00215619: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215619 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=78: FullyVis=True (Bounds:449-2543)                                                                 
           DEBUG    Card MJA00215620: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00215620 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=895, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00278417: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00278417 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1513, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00270265: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00270265 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=2058, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00308444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308444 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2675, h=81: FullyVis=False (Bounds:449-2543)                                                               
           DEBUG    Card MJA00308444 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00270265' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00270265 to use as scroll anchor.                                                                                
[11:37:58] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00018ea5 with percent: 0.6                                                             
[11:37:59] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113759_499203.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:38:01] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00270265)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:38:02] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00278417): Extracted MJA ID. Original full desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00278417): Parts after MJA ID: ['14:00 to 15:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00278417): Found Duration in part '14:00 to 15:00'                                                                             
           DEBUG    MJA Parse (MJA00278417): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00278417): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00278417): Final parsed data: {'booking_id': 'MJA00278417', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '14:00', 'end_time_raw': '15:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '14:00 to 15:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00278417, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00270265): Extracted MJA ID. Original full desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00270265): Parts after MJA ID: ['HU1 1RD', '09:00 to 12:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00270265): Found Duration in part '09:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00270265): Found Postcode in part 'HU1 1RD' -> HU1 1RD                                                                         
           DEBUG    MJA Parse (MJA00270265): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00270265): Final parsed data: {'booking_id': 'MJA00270265', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU1 1RD', 'start_time_raw': '09:00', 'end_time_raw': '12:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00270265, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00308444): Extracted MJA ID. Original full desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00308444): Parts after MJA ID: ['BD1 1LA', '14:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00308444): Found Duration in part '14:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00308444): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00308444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308444): Final parsed data: {'booking_id': 'MJA00308444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '14:00', 'end_time_raw': '16:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308444, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00294233): Extracted MJA ID. Original full desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00294233): Parts after MJA ID: ['BD1 1JA', '09:30 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00294233): Found Duration in part '09:30 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00294233): Found Postcode in part 'BD1 1JA' -> BD1 1JA                                                                         
           DEBUG    MJA Parse (MJA00294233): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00294233): Final parsed data: {'booking_id': 'MJA00294233', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JA', 'start_time_raw': '09:30', 'end_time_raw': '16:30', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00294233, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00278417: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00278417 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=164: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00270265: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00270265 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=908, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00308444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308444 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00294233: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00294233 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1525, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2143, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00294233 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00308444 (Status: Normal) to click.                                                                                         
[11:38:03] INFO     Inserted/Updated base booking record for MJA00308444 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00308444, MJR: None, LastProcMJA: MJA00308444)                                             
           INFO     Attempting click on selected card MJA00308444                                                                                                
           INFO     Clicked card MJA00308444                                                                                                                     
[11:38:04] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:38:05] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00308444)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00232350, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00232350                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00243848                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00243848', 'mjr_id_raw': 'MJR00232350', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00308444                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00308444/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00308444/Secondary/Secondary_MJA00308444_MJB00243848_20250518_113805_164671.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00243848, MJR: MJR00232350, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00308444                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00232350")]      
           DEBUG    Clicked MJR link element for MJR00232350.                                                                                                    
[11:38:06] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00308444, MJR: MJR00232350, LastProcMJA: MJA00308444)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:38:07] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00308444, MJR: MJR00232350)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:38:08] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00232350                                                                                    
           DEBUG    Header Results: MJR='MJR00232350', Total='£ 75.32', MultiDay=False, LangIdx=4, DateTimeTuple='('04-07-2025 At', '14:00 - 16:30')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00232350'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00232350                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00232350/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00232350/Detail_MJR/Detail_MJR_MJR00232350_initial_view_00_20250518_113808_496880.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ["Bradford Magistrates' Court - Crime", "Bradford Magistrates' Court", 'The Tyrls The    
                    Tyrls Bradford England BD1 1LA', "Crime - Magistrates' Court | Sentence", 'undefined undefined', 'undefined', '5.79 Miles']                  
           DEBUG      Client Name: 'Bradford Magistrates' Court - Crime'                                                                                         
           DEBUG      Address L1: 'Bradford Magistrates' Court', L2: 'The Tyrls The Tyrls Bradford England BD1 1LA'                                              
           DEBUG      Booking Type: 'Crime - Magistrates' Court | Sentence'                                                                                      
           DEBUG      Contact Name: 'undefined undefined'                                                                                                        
           DEBUG      Contact Phone: 'undefined'                                                                                                                 
           DEBUG      Distance: '5.79 Miles'                                                                                                                     
           DEBUG    Sanitized 'contact_name_raw' from 'undefined undefined' to None.                                                                             
           DEBUG    Sanitized 'contact_phone_raw' from 'undefined' to None.                                                                                      
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': "Bradford Magistrates' Court - Crime",            
                    'address_line1_raw': "Bradford Magistrates' Court", 'address_line2_raw': 'The Tyrls The Tyrls Bradford England BD1 1LA', 'booking_type_raw': 
                    "Crime - Magistrates' Court | Sentence", 'contact_name_raw': None, 'contact_phone_raw': None, 'distance_raw': '5.79 Miles',                  
                    'meeting_link_raw': None}                                                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00308444                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 75.32): {'is_multiday': 0, 'mjr_id': 'MJR00232350', 'header_total': 75.32, 'booking_date': '04-07-2025',       
                    'start_time': '14:00:00', 'end_time': '16:30:00', 'duration': '02:30', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': "Bradford Magistrates' Court - Crime", 'booking_type': "Crime - Magistrates' Court |    
                    Sentence", 'contact_name': None, 'contact_phone': None, 'meeting_link': None, 'address': "Bradford Magistrates' Court\nThe Tyrls The Tyrls   
                    Bradford England BD1 1LA", 'travel_distance': 5.79, 'overall_total': 75.32, 'multiday_payments': None, 'mja_id': 'MJA00308444', 'day_pay_sl':
                    65.0, 'day_pay_td': 0.32, 'day_pay_tt': None, 'day_pay_aep': 10.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 75.32, 'notes':    
                    '13CD0009025 Courtroom 08.\nTelephone Contact 01274390111 Option 3'}...                                                                      
           INFO     Processing SINGLE DAY save for MJA: MJA00308444 (MJR: MJR00232350)                                                                           
           INFO     Saved/Updated details for booking MJA00308444                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:38:09] DEBUG    Executing second back() command.                                                                                                             
[11:38:11] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00308444)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:38:12] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113812_533641.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00278417, 14:00 to 15:00, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00278417): Extracted MJA ID. Original full desc: 'MJA00278417, 14:00 to 15:00, English to Polish'                              
           DEBUG    MJA Parse (MJA00278417): Parts after MJA ID: ['14:00 to 15:00', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00278417): Found Duration in part '14:00 to 15:00'                                                                             
           DEBUG    MJA Parse (MJA00278417): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00278417): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00278417): Final parsed data: {'booking_id': 'MJA00278417', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '14:00', 'end_time_raw': '15:00', 'calculated_duration_str': '01:00', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '14:00 to 15:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00278417, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00270265): Extracted MJA ID. Original full desc: 'MJA00270265, HU1 1RD, 09:00 to 12:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00270265): Parts after MJA ID: ['HU1 1RD', '09:00 to 12:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00270265): Found Duration in part '09:00 to 12:00'                                                                             
           DEBUG    MJA Parse (MJA00270265): Found Postcode in part 'HU1 1RD' -> HU1 1RD                                                                         
           DEBUG    MJA Parse (MJA00270265): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00270265): Final parsed data: {'booking_id': 'MJA00270265', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU1 1RD', 'start_time_raw': '09:00', 'end_time_raw': '12:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:00 to 12:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00270265, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00308444): Extracted MJA ID. Original full desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00308444): Parts after MJA ID: ['BD1 1LA', '14:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00308444): Found Duration in part '14:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00308444): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00308444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308444): Final parsed data: {'booking_id': 'MJA00308444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '14:00', 'end_time_raw': '16:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308444, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00294233): Extracted MJA ID. Original full desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00294233): Parts after MJA ID: ['BD1 1JA', '09:30 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00294233): Found Duration in part '09:30 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00294233): Found Postcode in part 'BD1 1JA' -> BD1 1JA                                                                         
           DEBUG    MJA Parse (MJA00294233): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00294233): Final parsed data: {'booking_id': 'MJA00294233', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JA', 'start_time_raw': '09:30', 'end_time_raw': '16:30', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00294233, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00278417: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00278417 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=164: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00270265: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00270265 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=908, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00308444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1525, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00294233: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00294233 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
[11:38:13] DEBUG    Visibility check for element at y=2143, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00294233 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00308444' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00308444 to use as scroll anchor.                                                                                
[11:38:14] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019076 with percent: 0.6                                                             
[11:38:15] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113815_637215.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
[11:38:16] DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:38:18] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00308444)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00308444): Extracted MJA ID. Original full desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00308444): Parts after MJA ID: ['BD1 1LA', '14:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00308444): Found Duration in part '14:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00308444): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00308444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308444): Final parsed data: {'booking_id': 'MJA00308444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '14:00', 'end_time_raw': '16:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308444, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00294233): Extracted MJA ID. Original full desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00294233): Parts after MJA ID: ['BD1 1JA', '09:30 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00294233): Found Duration in part '09:30 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00294233): Found Postcode in part 'BD1 1JA' -> BD1 1JA                                                                         
           DEBUG    MJA Parse (MJA00294233): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00294233): Final parsed data: {'booking_id': 'MJA00294233', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JA', 'start_time_raw': '09:30', 'end_time_raw': '16:30', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00294233, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00232873): Extracted MJA ID. Original full desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00232873): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00232873): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00232873): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00232873): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00232873): Final parsed data: {'booking_id': 'MJA00232873', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00232873, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00257457): Extracted MJA ID. Original full desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00257457): Parts after MJA ID: ['BD1 1LA', '10:00 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00257457): Found Duration in part '10:00 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00257457): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00257457): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00257457): Final parsed data: {'booking_id': 'MJA00257457', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '13:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 13:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00257457, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00308444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=462: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00294233: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00294233 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00232873: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00232873 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00257457: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00257457 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1279, h=464: FullyVis=True (Bounds:449-2543)                                                               
[11:38:19] DEBUG    Visibility check for element at y=1897, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2515, h=241: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00257457 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00294233 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00294233 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00294233, MJR: None, LastProcMJA: MJA00294233)                                             
           INFO     Attempting click on selected card MJA00294233                                                                                                
           INFO     Clicked card MJA00294233                                                                                                                     
[11:38:20] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:38:21] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00294233)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00220532, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00220532                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00231835                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00231835', 'mjr_id_raw': 'MJR00220532', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00294233                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00294233/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00294233/Secondary/Secondary_MJA00294233_MJB00231835_20250518_113821_275327.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00231835, MJR: MJR00220532, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00294233                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00220532")]      
           DEBUG    Clicked MJR link element for MJR00220532.                                                                                                    
[11:38:22] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00294233, MJR: MJR00220532, LastProcMJA: MJA00294233)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:38:23] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00294233, MJR: MJR00220532)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:38:24] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00220532                                                                                    
           DEBUG    Header Results: MJR='MJR00220532', Total='£ 179.24', MultiDay=False, LangIdx=4, DateTimeTuple='('09-07-2025 At', '09:30 - 16:30')'           
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00220532'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00220532                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00220532/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00220532/Detail_MJR/Detail_MJR_MJR00220532_initial_view_00_20250518_113824_546182.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ['Bradford Combined Court - Crown Court (CPS)', 'Bradford Court Centre', 'The Law Courts 
                    Bradford England BD1 1JA', 'CPS | Trial (Crown Court)', 'Lauren Tibbott-Pinder', '0', '5.59 Miles']                                          
           DEBUG      Client Name: 'Bradford Combined Court - Crown Court (CPS)'                                                                                 
           DEBUG      Address L1: 'Bradford Court Centre', L2: 'The Law Courts Bradford England BD1 1JA'                                                         
           DEBUG      Booking Type: 'CPS | Trial (Crown Court)'                                                                                                  
           DEBUG      Contact Name: 'Lauren Tibbott-Pinder'                                                                                                      
           DEBUG      Contact Phone: '0'                                                                                                                         
           DEBUG      Distance: '5.59 Miles'                                                                                                                     
           DEBUG    Sanitized 'contact_phone_raw' from '0' to None.                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Bradford Combined Court - Crown Court (CPS)',    
                    'address_line1_raw': 'Bradford Court Centre', 'address_line2_raw': 'The Law Courts Bradford England BD1 1JA', 'booking_type_raw': 'CPS |     
                    Trial (Crown Court)', 'contact_name_raw': 'Lauren Tibbott-Pinder', 'contact_phone_raw': None, 'distance_raw': '5.59 Miles',                  
                    'meeting_link_raw': None}                                                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00294233                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 179.24): {'is_multiday': 0, 'mjr_id': 'MJR00220532', 'header_total': 179.24, 'booking_date': '09-07-2025',     
                    'start_time': '09:30:00', 'end_time': '16:30:00', 'duration': '07:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Bradford Combined Court - Crown Court (CPS)', 'booking_type': 'CPS | Trial (Crown      
                    Court)', 'contact_name': 'Lauren Tibbott-Pinder', 'contact_phone': None, 'meeting_link': None, 'address': 'Bradford Court Centre\nThe Law    
                    Courts Bradford England BD1 1JA', 'travel_distance': 5.59, 'overall_total': 179.24, 'multiday_payments': None, 'mja_id': 'MJA00294233',      
                    'day_pay_sl': 169.0, 'day_pay_td': 0.24, 'day_pay_tt': None, 'day_pay_aep': 10.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total':     
                    179.24, 'notes': 'To interpret for Monika ZYCH'}...                                                                                          
           INFO     Processing SINGLE DAY save for MJA: MJA00294233 (MJR: MJR00220532)                                                                           
           INFO     Saved/Updated details for booking MJA00294233                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:38:25] DEBUG    Executing second back() command.                                                                                                             
[11:38:27] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00294233)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:38:28] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113828_629622.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00308444): Extracted MJA ID. Original full desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00308444): Parts after MJA ID: ['BD1 1LA', '14:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00308444): Found Duration in part '14:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00308444): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00308444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308444): Final parsed data: {'booking_id': 'MJA00308444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '14:00', 'end_time_raw': '16:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308444, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00294233): Extracted MJA ID. Original full desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00294233): Parts after MJA ID: ['BD1 1JA', '09:30 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00294233): Found Duration in part '09:30 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00294233): Found Postcode in part 'BD1 1JA' -> BD1 1JA                                                                         
           DEBUG    MJA Parse (MJA00294233): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00294233): Final parsed data: {'booking_id': 'MJA00294233', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JA', 'start_time_raw': '09:30', 'end_time_raw': '16:30', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00294233, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00232873): Extracted MJA ID. Original full desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00232873): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00232873): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00232873): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00232873): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00232873): Final parsed data: {'booking_id': 'MJA00232873', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00232873, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00257457): Extracted MJA ID. Original full desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00257457): Parts after MJA ID: ['BD1 1LA', '10:00 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00257457): Found Duration in part '10:00 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00257457): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00257457): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00257457): Final parsed data: {'booking_id': 'MJA00257457', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '13:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 13:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00257457, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00308444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=462: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00294233: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00294233 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:38:29] DEBUG    Visibility check for element at y=1279, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00232873: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00232873 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00257457: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00257457 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1897, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2515, h=241: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00257457 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00232873 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00232873 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00232873, MJR: None, LastProcMJA: MJA00232873)                                             
           INFO     Attempting click on selected card MJA00232873                                                                                                
           INFO     Clicked card MJA00232873                                                                                                                     
[11:38:30] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:38:31] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00232873)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00170005, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00170005                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00179598                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00179598', 'mjr_id_raw': 'MJR00170005', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00232873                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00232873/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00232873/Secondary/Secondary_MJA00232873_MJB00179598_20250518_113831_364792.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00179598, MJR: MJR00170005, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00232873                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00170005")]      
           DEBUG    Clicked MJR link element for MJR00170005.                                                                                                    
[11:38:32] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00232873, MJR: MJR00170005, LastProcMJA: MJA00232873)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:38:33] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00232873, MJR: MJR00170005)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:38:34] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00170005                                                                                    
           DEBUG    Header Results: MJR='MJR00170005', Total='£ 155.00', MultiDay=False, LangIdx=4, DateTimeTuple='('17-07-2025 At', '10:00 - 16:00')'           
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00170005'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00170005                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00170005/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00170005/Detail_MJR/Detail_MJR_MJR00170005_initial_view_00_20250518_113834_656490.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ['Leeds ET', '6 Grace Street', 'Leeds England LS1 2RP', 'Tribunals - ET | Full hearing', 
                    'Lisa Newton', '0113 236 6583', '9.99 Miles']                                                                                                
           DEBUG      Client Name: 'Leeds ET'                                                                                                                    
           DEBUG      Address L1: '6 Grace Street', L2: 'Leeds England LS1 2RP'                                                                                  
           DEBUG      Booking Type: 'Tribunals - ET | Full hearing'                                                                                              
           DEBUG      Contact Name: 'Lisa Newton'                                                                                                                
           DEBUG      Contact Phone: '0113 236 6583'                                                                                                             
           DEBUG      Distance: '9.99 Miles'                                                                                                                     
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Leeds ET', 'address_line1_raw': '6 Grace Street',
                    'address_line2_raw': 'Leeds England LS1 2RP', 'booking_type_raw': 'Tribunals - ET | Full hearing', 'contact_name_raw': 'Lisa Newton',        
                    'contact_phone_raw': '0113 236 6583', 'distance_raw': '9.99 Miles', 'meeting_link_raw': None}                                                
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00232873                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 155.0): {'is_multiday': 0, 'mjr_id': 'MJR00170005', 'header_total': 155.0, 'booking_date': '17-07-2025',       
                    'start_time': '10:00:00', 'end_time': '16:00:00', 'duration': '06:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Leeds ET', 'booking_type': 'Tribunals - ET | Full hearing', 'contact_name': 'Lisa      
                    Newton', 'contact_phone': '0113 236 6583', 'meeting_link': None, 'address': '6 Grace Street\nLeeds England LS1 2RP', 'travel_distance': 9.99,
                    'overall_total': 155.0, 'multiday_payments': None, 'mja_id': 'MJA00232873', 'day_pay_sl': 143.0, 'day_pay_td': 2.0, 'day_pay_tt': None,      
                    'day_pay_aep': 10.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 155.0, 'notes': None}...                                         
           INFO     Processing SINGLE DAY save for MJA: MJA00232873 (MJR: MJR00170005)                                                                           
           INFO     Saved/Updated details for booking MJA00232873                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:38:36] DEBUG    Executing second back() command.                                                                                                             
[11:38:37] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00232873)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:38:38] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113838_564443.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00308444): Extracted MJA ID. Original full desc: 'MJA00308444, BD1 1LA, 14:00 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00308444): Parts after MJA ID: ['BD1 1LA', '14:00 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00308444): Found Duration in part '14:00 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00308444): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00308444): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00308444): Final parsed data: {'booking_id': 'MJA00308444', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '14:00', 'end_time_raw': '16:30', 'calculated_duration_str': '02:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00308444, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00294233): Extracted MJA ID. Original full desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00294233): Parts after MJA ID: ['BD1 1JA', '09:30 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00294233): Found Duration in part '09:30 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00294233): Found Postcode in part 'BD1 1JA' -> BD1 1JA                                                                         
           DEBUG    MJA Parse (MJA00294233): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00294233): Final parsed data: {'booking_id': 'MJA00294233', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JA', 'start_time_raw': '09:30', 'end_time_raw': '16:30', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00294233, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00232873): Extracted MJA ID. Original full desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00232873): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00232873): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00232873): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00232873): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00232873): Final parsed data: {'booking_id': 'MJA00232873', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00232873, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00257457): Extracted MJA ID. Original full desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00257457): Parts after MJA ID: ['BD1 1LA', '10:00 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00257457): Found Duration in part '10:00 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00257457): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00257457): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00257457): Final parsed data: {'booking_id': 'MJA00257457', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '13:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 13:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00257457, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00308444: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00308444 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=462: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00294233: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00294233 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1279, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00232873: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00232873 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:38:39] DEBUG    Visibility check for element at y=1897, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00257457: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00257457 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2515, h=241: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00257457 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00232873' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00232873 to use as scroll anchor.                                                                                
[11:38:40] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff000193d9 with percent: 0.6                                                             
[11:38:41] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113841_726999.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:38:42] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:38:44] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00232873)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00294233): Extracted MJA ID. Original full desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00294233): Parts after MJA ID: ['BD1 1JA', '09:30 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00294233): Found Duration in part '09:30 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00294233): Found Postcode in part 'BD1 1JA' -> BD1 1JA                                                                         
           DEBUG    MJA Parse (MJA00294233): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00294233): Final parsed data: {'booking_id': 'MJA00294233', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JA', 'start_time_raw': '09:30', 'end_time_raw': '16:30', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00294233, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00232873): Extracted MJA ID. Original full desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00232873): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00232873): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00232873): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00232873): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00232873): Final parsed data: {'booking_id': 'MJA00232873', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00232873, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00257457): Extracted MJA ID. Original full desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00257457): Parts after MJA ID: ['BD1 1LA', '10:00 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00257457): Found Duration in part '10:00 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00257457): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00257457): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00257457): Final parsed data: {'booking_id': 'MJA00257457', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '13:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 13:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00257457, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00283860): Extracted MJA ID. Original full desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00283860): Parts after MJA ID: ['BD1 1LA', '09:30 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00283860): Found Duration in part '09:30 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00283860): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00283860): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00283860): Final parsed data: {'booking_id': 'MJA00283860', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '16:00', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00283860, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00294233: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00294233 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=170: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00232873: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00232873 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:38:45] DEBUG    Visibility check for element at y=987, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00257457: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00257457 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00283860: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00283860 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1605, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2223, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00283860 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00257457 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00257457 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00257457, MJR: None, LastProcMJA: MJA00257457)                                             
           INFO     Attempting click on selected card MJA00257457                                                                                                
           INFO     Clicked card MJA00257457                                                                                                                     
[11:38:46] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:38:47] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00257457)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00190086, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00190086                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00200649                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00200649', 'mjr_id_raw': 'MJR00190086', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00257457                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00257457/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00257457/Secondary/Secondary_MJA00257457_MJB00200649_20250518_113847_434507.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00200649, MJR: MJR00190086, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00257457                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00190086")]      
           DEBUG    Clicked MJR link element for MJR00190086.                                                                                                    
[11:38:49] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00257457, MJR: MJR00190086, LastProcMJA: MJA00257457)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00257457, MJR: MJR00190086)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:38:50] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00190086                                                                                    
           DEBUG    Header Results: MJR='MJR00190086', Total='£ 88.60', MultiDay=False, LangIdx=4, DateTimeTuple='('21-07-2025 At', '10:00 - 13:00')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00190086'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00190086                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00190086/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00190086/Detail_MJR/Detail_MJR_MJR00190086_initial_view_00_20250518_113850_817192.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ["Bradford Magistrates' Court - Crime", "Bradford Magistrates' Court", 'The Tyrls The    
                    Tyrls Bradford England BD1 1LA', "Crime - Magistrates' Court | Trial", 'Jeanette Kay', '01274 390111', '6.49 Miles']                         
           DEBUG      Client Name: 'Bradford Magistrates' Court - Crime'                                                                                         
           DEBUG      Address L1: 'Bradford Magistrates' Court', L2: 'The Tyrls The Tyrls Bradford England BD1 1LA'                                              
           DEBUG      Booking Type: 'Crime - Magistrates' Court | Trial'                                                                                         
           DEBUG      Contact Name: 'Jeanette Kay'                                                                                                               
           DEBUG      Contact Phone: '01274 390111'                                                                                                              
           DEBUG      Distance: '6.49 Miles'                                                                                                                     
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': "Bradford Magistrates' Court - Crime",            
                    'address_line1_raw': "Bradford Magistrates' Court", 'address_line2_raw': 'The Tyrls The Tyrls Bradford England BD1 1LA', 'booking_type_raw': 
                    "Crime - Magistrates' Court | Trial", 'contact_name_raw': 'Jeanette Kay', 'contact_phone_raw': '01274 390111', 'distance_raw': '6.49 Miles', 
                    'meeting_link_raw': None}                                                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00257457                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
[11:38:51] INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 88.6): {'is_multiday': 0, 'mjr_id': 'MJR00190086', 'header_total': 88.6, 'booking_date': '21-07-2025',         
                    'start_time': '10:00:00', 'end_time': '13:00:00', 'duration': '03:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': "Bradford Magistrates' Court - Crime", 'booking_type': "Crime - Magistrates' Court |    
                    Trial", 'contact_name': 'Jeanette Kay', 'contact_phone': '01274 390111', 'meeting_link': None, 'address': "Bradford Magistrates' Court\nThe  
                    Tyrls The Tyrls Bradford England BD1 1LA", 'travel_distance': 6.49, 'overall_total': 88.6, 'multiday_payments': None, 'mja_id':              
                    'MJA00257457', 'day_pay_sl': 78.0, 'day_pay_td': 0.6, 'day_pay_tt': None, 'day_pay_aep': 10.0, 'day_pay_ooh': None, 'day_pay_urg': None,     
                    'day_total': 88.6, 'notes': 'Court 3'}...                                                                                                    
           INFO     Processing SINGLE DAY save for MJA: MJA00257457 (MJR: MJR00190086)                                                                           
           INFO     Saved/Updated details for booking MJA00257457                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:38:52] DEBUG    Executing second back() command.                                                                                                             
[11:38:54] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00257457)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113854_768595.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                                          
           DEBUG    MJA Parse (MJA00294233): Extracted MJA ID. Original full desc: 'MJA00294233, BD1 1JA, 09:30 to 16:30, English to Polish'                     
           DEBUG    MJA Parse (MJA00294233): Parts after MJA ID: ['BD1 1JA', '09:30 to 16:30', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00294233): Found Duration in part '09:30 to 16:30'                                                                             
           DEBUG    MJA Parse (MJA00294233): Found Postcode in part 'BD1 1JA' -> BD1 1JA                                                                         
           DEBUG    MJA Parse (MJA00294233): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00294233): Final parsed data: {'booking_id': 'MJA00294233', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JA', 'start_time_raw': '09:30', 'end_time_raw': '16:30', 'calculated_duration_str': '07:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00294233, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00232873): Extracted MJA ID. Original full desc: 'MJA00232873, LS1 2RP, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00232873): Parts after MJA ID: ['LS1 2RP', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00232873): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00232873): Found Postcode in part 'LS1 2RP' -> LS1 2RP                                                                         
           DEBUG    MJA Parse (MJA00232873): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00232873): Final parsed data: {'booking_id': 'MJA00232873', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 2RP', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00232873, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00257457): Extracted MJA ID. Original full desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00257457): Parts after MJA ID: ['BD1 1LA', '10:00 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00257457): Found Duration in part '10:00 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00257457): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00257457): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00257457): Final parsed data: {'booking_id': 'MJA00257457', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '13:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 13:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00257457, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00283860): Extracted MJA ID. Original full desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00283860): Parts after MJA ID: ['BD1 1LA', '09:30 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00283860): Found Duration in part '09:30 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00283860): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00283860): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00283860): Final parsed data: {'booking_id': 'MJA00283860', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '16:00', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00283860, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00294233: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00294233 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:38:55] DEBUG    Visibility check for element at y=663, h=170: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00232873: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00232873 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=987, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00257457: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00257457 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1605, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00283860: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00283860 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2223, h=464: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00283860 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00257457' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00257457 to use as scroll anchor.                                                                                
[11:38:56] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff000195b6 with percent: 0.6                                                             
[11:38:57] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113857_902078.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:38:58] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
[11:38:59] DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:39:01] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00257457)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00257457): Extracted MJA ID. Original full desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00257457): Parts after MJA ID: ['BD1 1LA', '10:00 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00257457): Found Duration in part '10:00 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00257457): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00257457): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00257457): Final parsed data: {'booking_id': 'MJA00257457', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '13:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 13:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00257457, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00283860): Extracted MJA ID. Original full desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00283860): Parts after MJA ID: ['BD1 1LA', '09:30 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00283860): Found Duration in part '09:30 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00283860): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00283860): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00283860): Final parsed data: {'booking_id': 'MJA00283860', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '16:00', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00283860, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00265737): Extracted MJA ID. Original full desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00265737): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00265737): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00265737): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00265737): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00265737): Final parsed data: {'booking_id': 'MJA00265737', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00265737, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00257457: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00257457 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=292: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00283860: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00283860 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00265737: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00265737 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1109, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=1727, h=464: FullyVis=True (Bounds:449-2543)                                                               
[11:39:02] DEBUG    Visibility check for element at y=2344, h=412: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00305275 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00283860 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00283860 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00283860, MJR: None, LastProcMJA: MJA00283860)                                             
           INFO     Attempting click on selected card MJA00283860                                                                                                
           INFO     Clicked card MJA00283860                                                                                                                     
[11:39:03] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:39:04] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00283860)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00211894, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00211894                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00222996                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00222996', 'mjr_id_raw': 'MJR00211894', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00283860                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00283860/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00283860/Secondary/Secondary_MJA00283860_MJB00222996_20250518_113904_222189.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00222996, MJR: MJR00211894, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00283860                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00211894")]      
           DEBUG    Clicked MJR link element for MJR00211894.                                                                                                    
[11:39:05] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00283860, MJR: MJR00211894, LastProcMJA: MJA00283860)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:39:06] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00283860, MJR: MJR00211894)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:39:07] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00211894                                                                                    
           DEBUG    Header Results: MJR='MJR00211894', Total='£ 166.73', MultiDay=False, LangIdx=4, DateTimeTuple='('05-08-2025 At', '09:30 - 16:00')'           
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00211894'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00211894                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00211894/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00211894/Detail_MJR/Detail_MJR_MJR00211894_initial_view_00_20250518_113907_507986.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ["Bradford Magistrates' Court - Crime (CPS)", "Bradford Magistrates' Court", 'The Tyrls  
                    The Tyrls Bradford England BD1 1LA', 'CPS | Trial (Magistrates Court)', 'Hugh Burt', '0113', '6.81 Miles']                                   
           DEBUG      Client Name: 'Bradford Magistrates' Court - Crime (CPS)'                                                                                   
           DEBUG      Address L1: 'Bradford Magistrates' Court', L2: 'The Tyrls The Tyrls Bradford England BD1 1LA'                                              
           DEBUG      Booking Type: 'CPS | Trial (Magistrates Court)'                                                                                            
           DEBUG      Contact Name: 'Hugh Burt'                                                                                                                  
           DEBUG      Contact Phone: '0113'                                                                                                                      
           DEBUG      Distance: '6.81 Miles'                                                                                                                     
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': "Bradford Magistrates' Court - Crime (CPS)",      
                    'address_line1_raw': "Bradford Magistrates' Court", 'address_line2_raw': 'The Tyrls The Tyrls Bradford England BD1 1LA', 'booking_type_raw': 
                    'CPS | Trial (Magistrates Court)', 'contact_name_raw': 'Hugh Burt', 'contact_phone_raw': '0113', 'distance_raw': '6.81 Miles',               
                    'meeting_link_raw': None}                                                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00283860                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 166.73): {'is_multiday': 0, 'mjr_id': 'MJR00211894', 'header_total': 166.73, 'booking_date': '05-08-2025',     
                    'start_time': '09:30:00', 'end_time': '16:00:00', 'duration': '06:30', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': "Bradford Magistrates' Court - Crime (CPS)", 'booking_type': 'CPS | Trial (Magistrates  
                    Court)', 'contact_name': 'Hugh Burt', 'contact_phone': '0113', 'meeting_link': None, 'address': "Bradford Magistrates' Court\nThe Tyrls The  
                    Tyrls Bradford England BD1 1LA", 'travel_distance': 6.81, 'overall_total': 166.73, 'multiday_payments': None, 'mja_id': 'MJA00283860',       
                    'day_pay_sl': 156.0, 'day_pay_td': 0.73, 'day_pay_tt': None, 'day_pay_aep': 10.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total':     
                    166.73, 'notes': 'For Victim Monika KALUGA'}...                                                                                              
           INFO     Processing SINGLE DAY save for MJA: MJA00283860 (MJR: MJR00211894)                                                                           
           INFO     Saved/Updated details for booking MJA00283860                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:39:08] DEBUG    Executing second back() command.                                                                                                             
[11:39:10] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00283860)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:39:11] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113911_471018.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00257457): Extracted MJA ID. Original full desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00257457): Parts after MJA ID: ['BD1 1LA', '10:00 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00257457): Found Duration in part '10:00 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00257457): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00257457): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00257457): Final parsed data: {'booking_id': 'MJA00257457', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '13:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 13:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00257457, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00283860): Extracted MJA ID. Original full desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00283860): Parts after MJA ID: ['BD1 1LA', '09:30 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00283860): Found Duration in part '09:30 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00283860): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00283860): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00283860): Final parsed data: {'booking_id': 'MJA00283860', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '16:00', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00283860, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00265737): Extracted MJA ID. Original full desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00265737): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00265737): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00265737): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00265737): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00265737): Final parsed data: {'booking_id': 'MJA00265737', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00265737, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00257457: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00257457 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=292: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00283860: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00283860 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1109, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00265737: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00265737 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1727, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2344, h=412: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00305275 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00265737 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00265737 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00265737, MJR: None, LastProcMJA: MJA00265737)                                             
           INFO     Attempting click on selected card MJA00265737                                                                                                
[11:39:12] INFO     Clicked card MJA00265737                                                                                                                     
[11:39:13] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:39:14] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00265737)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00196950, Video Remote Interpreting, Appointments : 1"                                                         
           DEBUG        Extracted MJR ID: MJR00196950                                                                                                            
           DEBUG        Extracted Type Hint: Video Remote Interpreting                                                                                           
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00207680                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00207680', 'mjr_id_raw': 'MJR00196950', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Video Remote Interpreting'} ---                                                                                            
           DEBUG    Created directory: xml_capture_base/MJA00265737                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00265737/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00265737/Secondary/Secondary_MJA00265737_MJB00207680_20250518_113914_116428.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00207680, MJR: MJR00196950, Appt Count: 1, Type Hint: Video Remote Interpreting                      
           INFO     Updated secondary IDs & hints for booking MJA00265737                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00196950")]      
           DEBUG    Clicked MJR link element for MJR00196950.                                                                                                    
[11:39:15] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00265737, MJR: MJR00196950, LastProcMJA: MJA00265737)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:39:16] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00265737, MJR: MJR00196950)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:39:17] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00196950                                                                                    
           DEBUG    Header Results: MJR='MJR00196950', Total='£ 42.00', MultiDay=False, LangIdx=4, DateTimeTuple='('06-08-2025 At', '10:00 - 11:30')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00196950'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00196950                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00196950/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00196950/Detail_MJR/Detail_MJR_MJR00196950_initial_view_00_20250518_113917_596307.xml                    
           DEBUG    Info block scan range: 5 to 10. Processing 5 items: ['Bury St Edmunds County Court', 'Meeting Link', 'Civil - County Courts | General        
                    Application', 'Christopher Eley', '01284 727340']                                                                                            
           DEBUG      Client Name: 'Bury St Edmunds County Court'                                                                                                
           DEBUG      Found 'Meeting Link'.                                                                                                                      
           DEBUG      No valid URL after Meeting Link label. Next: Civil - County Courts | General Application                                                   
           DEBUG      Booking Type: 'Civil - County Courts | General Application'                                                                                
           DEBUG      Contact Name: 'Christopher Eley'                                                                                                           
           DEBUG      Contact Phone: '01284 727340'                                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Bury St Edmunds County Court',                   
                    'address_line1_raw': None, 'address_line2_raw': None, 'booking_type_raw': 'Civil - County Courts | General Application', 'contact_name_raw': 
                    'Christopher Eley', 'contact_phone_raw': '01284 727340', 'distance_raw': None, 'meeting_link_raw': None}                                     
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00265737                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 42.0): {'is_multiday': 0, 'mjr_id': 'MJR00196950', 'header_total': 42.0, 'booking_date': '06-08-2025',         
                    'start_time': '10:00:00', 'end_time': '11:30:00', 'duration': '01:30', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': 'Bury St Edmunds County Court', 'booking_type': 'Civil - County Courts | General        
                    Application', 'contact_name': 'Christopher Eley', 'contact_phone': '01284 727340', 'meeting_link': None, 'address': None, 'travel_distance': 
                    None, 'overall_total': 42.0, 'multiday_payments': None, 'mja_id': 'MJA00265737', 'day_pay_sl': 27.0, 'day_pay_td': None, 'day_pay_tt': None, 
                    'day_pay_aep': 15.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 42.0, 'notes': 'Maintenance enforcement hearing for Ms           
                    Morawinska. CVP link will be emailed to interpreter.'}...                                                                                    
           INFO     Processing SINGLE DAY save for MJA: MJA00265737 (MJR: MJR00196950)                                                                           
           INFO     Saved/Updated details for booking MJA00265737                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:39:19] DEBUG    Executing second back() command.                                                                                                             
[11:39:20] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00265737)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:39:21] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113921_635065.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00257457): Extracted MJA ID. Original full desc: 'MJA00257457, BD1 1LA, 10:00 to 13:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00257457): Parts after MJA ID: ['BD1 1LA', '10:00 to 13:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00257457): Found Duration in part '10:00 to 13:00'                                                                             
           DEBUG    MJA Parse (MJA00257457): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00257457): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00257457): Final parsed data: {'booking_id': 'MJA00257457', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '10:00', 'end_time_raw': '13:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 13:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00257457, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00283860): Extracted MJA ID. Original full desc: 'MJA00283860, BD1 1LA, 09:30 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00283860): Parts after MJA ID: ['BD1 1LA', '09:30 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00283860): Found Duration in part '09:30 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00283860): Found Postcode in part 'BD1 1LA' -> BD1 1LA                                                                         
           DEBUG    MJA Parse (MJA00283860): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00283860): Final parsed data: {'booking_id': 'MJA00283860', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1LA', 'start_time_raw': '09:30', 'end_time_raw': '16:00', 'calculated_duration_str': '06:30', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '09:30 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00283860, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00265737): Extracted MJA ID. Original full desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00265737): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00265737): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00265737): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00265737): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00265737): Final parsed data: {'booking_id': 'MJA00265737', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00265737, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00257457: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00257457 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=292: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00283860: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00283860 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:39:22] DEBUG    Visibility check for element at y=1109, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00265737: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00265737 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1727, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2344, h=412: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00305275 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00265737' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00265737 to use as scroll anchor.                                                                                
[11:39:23] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019966 with percent: 0.6                                                             
[11:39:24] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113924_759714.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:39:25] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:39:27] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00265737)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:39:28] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00265737): Extracted MJA ID. Original full desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00265737): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00265737): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00265737): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00265737): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00265737): Final parsed data: {'booking_id': 'MJA00265737', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00265737, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00265737: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00265737 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=673, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 3 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1290, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=1908, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2526, h=230: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00293518 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00305275 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00305275 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00305275, MJR: None, LastProcMJA: MJA00305275)                                             
           INFO     Attempting click on selected card MJA00305275                                                                                                
[11:39:29] INFO     Clicked card MJA00305275                                                                                                                     
[11:39:30] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:39:31] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00305275)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00229794, Face To Face, Appointments : 2"                                                                      
           DEBUG        Extracted MJR ID: MJR00229794                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 2                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00241250                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00241250', 'mjr_id_raw': 'MJR00229794', 'appointment_count_hint': 2,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00305275                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00305275/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00305275/Secondary/Secondary_MJA00305275_MJB00241250_20250518_113931_196845.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00241250, MJR: MJR00229794, Appt Count: 2, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00305275                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00229794")]      
           DEBUG    Clicked MJR link element for MJR00229794.                                                                                                    
[11:39:32] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00305275, MJR: MJR00229794, LastProcMJA: MJA00305275)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
[11:39:33] INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00305275, MJR: MJR00229794)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:39:34] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00229794                                                                                    
           DEBUG    Header Results: MJR='MJR00229794', Total='£ 310.04', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                          
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00229794'                                                                                         
           DEBUG    Created directory: xml_capture_base/MJR00229794                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00229794/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00229794/Detail_MJR/Detail_MJR_MJR00229794_initial_view_00_20250518_113934_545286.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Leeds Combined Court - Crown Court', 'Leeds Combined Court Centre', '1 Oxford Row Leeds
                    England LS1 3BG', 'Crime - Crown Court | Trial', 'Daniel Burnett', '1133062612', '10.04 Miles']                                              
           DEBUG      Client Name: 'Leeds Combined Court - Crown Court'                                                                                          
           DEBUG      Address L1: 'Leeds Combined Court Centre', L2: '1 Oxford Row Leeds England LS1 3BG'                                                        
           DEBUG      Booking Type: 'Crime - Crown Court | Trial'                                                                                                
           DEBUG      Contact Name: 'Daniel Burnett'                                                                                                             
           DEBUG      Contact Phone: '1133062612'                                                                                                                
           DEBUG      Distance: '10.04 Miles'                                                                                                                    
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Leeds Combined Court - Crown Court',             
                    'address_line1_raw': 'Leeds Combined Court Centre', 'address_line2_raw': '1 Oxford Row Leeds England LS1 3BG', 'booking_type_raw': 'Crime -  
                    Crown Court | Trial', 'contact_name_raw': 'Daniel Burnett', 'contact_phone_raw': '1133062612', 'distance_raw': '10.04 Miles',                
                    'meeting_link_raw': None}                                                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00305275                                                                                                           
           INFO       Added new MJA block: MJA00305276                                                                                                           
[11:39:35] DEBUG    Scrolling detail page...                                                                                                                     
[11:39:37] INFO     Saved XML dump: xml_capture_base/MJR00229794/Detail_MJR/Detail_MJR_MJR00229794_scroll_01_20250518_113937_940904.xml                          
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
[11:39:38] INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00229794/Detail_MJR/Detail_MJR_MJR00229794_final_view_01_20250518_113938_093775.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 155.02): {'is_multiday': 1, 'mjr_id': 'MJR00229794', 'header_total': 310.04, 'booking_date': None,             
                    'start_time': None, 'end_time': None, 'duration': None, 'multiday_date_range': '21-08-2025 - 22-08-2025', 'multiday_appointment_info': '2    
                    Appointments / 2 Days', 'language_pair': 'English to Polish', 'client_name': 'Leeds Combined Court - Crown Court', 'booking_type': 'Crime -  
                    Crown Court | Trial', 'contact_name': 'Daniel Burnett', 'contact_phone': '1133062612', 'meeting_link': None, 'address': 'Leeds Combined Court
                    Centre\n1 Oxford Row Leeds England LS1 3BG', 'travel_distance': 10.04, 'overall_total': 310.04, 'multiday_payments': [{'mja': 'MJA00305275', 
                    'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 143.0, 'pay_td': 2.02, 'pay_tt': None, 'pay_aep':    
                    10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00305276', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None,
                    'pay_sl': 143.0, 'pay_td': 2.02, 'pay_tt': None, 'pay_aep': 10.0, 'pa...                                                                     
           INFO     Processing MULTIDAY save for MJR ID: MJR00229794                                                                                             
           INFO     Saving 2 MJA payment blocks for MJR MJR00229794.                                                                                             
           INFO     Saved/Updated details for booking MJA00305275                                                                                                
           INFO     Saved/Updated details for booking MJA00305276                                                                                                
           DEBUG    Found hints for MJR MJR00229794: Count=2, Type='Face To Face'                                                                                
           INFO     Updated hints (1 records) for MJR MJR00229794.                                                                                               
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:39:39] DEBUG    Executing second back() command.                                                                                                             
[11:39:41] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00305275)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113941_815028.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00265737): Extracted MJA ID. Original full desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00265737): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00265737): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00265737): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00265737): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00265737): Final parsed data: {'booking_id': 'MJA00265737', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00265737, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
[11:39:42] DEBUG    Card MJA00265737: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00265737 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=673, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1290, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1908, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2526, h=230: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00293518 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00305276 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00305276 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00305276, MJR: None, LastProcMJA: MJA00305276)                                             
           INFO     Attempting click on selected card MJA00305276                                                                                                
           INFO     Clicked card MJA00305276                                                                                                                     
[11:39:43] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
[11:39:44] INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00305276)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00229794, Face To Face, Appointments : 2"                                                                      
           DEBUG        Extracted MJR ID: MJR00229794                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 2                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00241250                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00241250', 'mjr_id_raw': 'MJR00229794', 'appointment_count_hint': 2,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00305276                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00305276/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00305276/Secondary/Secondary_MJA00305276_MJB00241250_20250518_113944_519342.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00241250, MJR: MJR00229794, Appt Count: 2, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00305276                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00229794")]      
           DEBUG    Clicked MJR link element for MJR00229794.                                                                                                    
[11:39:46] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00305276, MJR: MJR00229794, LastProcMJA: MJA00305276)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00305276, MJR: MJR00229794)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:39:47] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00229794                                                                                    
           DEBUG    Header Results: MJR='MJR00229794', Total='£ 310.04', MultiDay=True, LangIdx=5, DateTimeTuple='None'                                          
           INFO     Initial Check: IsMultiday=True, MJR ID='MJR00229794'                                                                                         
           INFO     Saved XML dump: xml_capture_base/MJR00229794/Detail_MJR/Detail_MJR_MJR00229794_initial_view_00_20250518_113947_893208.xml                    
           DEBUG    Info block scan range: 6 to 13. Processing 7 items: ['Leeds Combined Court - Crown Court', 'Leeds Combined Court Centre', '1 Oxford Row Leeds
                    England LS1 3BG', 'Crime - Crown Court | Trial', 'Daniel Burnett', '1133062612', '10.04 Miles']                                              
           DEBUG      Client Name: 'Leeds Combined Court - Crown Court'                                                                                          
           DEBUG      Address L1: 'Leeds Combined Court Centre', L2: '1 Oxford Row Leeds England LS1 3BG'                                                        
           DEBUG      Booking Type: 'Crime - Crown Court | Trial'                                                                                                
           DEBUG      Contact Name: 'Daniel Burnett'                                                                                                             
           DEBUG      Contact Phone: '1133062612'                                                                                                                
           DEBUG      Distance: '10.04 Miles'                                                                                                                    
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': 'Leeds Combined Court - Crown Court',             
                    'address_line1_raw': 'Leeds Combined Court Centre', 'address_line2_raw': '1 Oxford Row Leeds England LS1 3BG', 'booking_type_raw': 'Crime -  
                    Crown Court | Trial', 'contact_name_raw': 'Daniel Burnett', 'contact_phone_raw': '1133062612', 'distance_raw': '10.04 Miles',                
                    'meeting_link_raw': None}                                                                                                                    
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00305275                                                                                                           
           INFO       Added new MJA block: MJA00305276                                                                                                           
[11:39:48] DEBUG    Scrolling detail page...                                                                                                                     
[11:39:51] INFO     Saved XML dump: xml_capture_base/MJR00229794/Detail_MJR/Detail_MJR_MJR00229794_scroll_01_20250518_113951_321084.xml                          
           DEBUG    Extracted 2 MJA payment blocks.                                                                                                              
           INFO     Disclaimer found after 1 scrolls.                                                                                                            
           INFO     Saved XML dump: xml_capture_base/MJR00229794/Detail_MJR/Detail_MJR_MJR00229794_final_view_01_20250518_113951_465025.xml                      
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 155.02): {'is_multiday': 1, 'mjr_id': 'MJR00229794', 'header_total': 310.04, 'booking_date': None,             
                    'start_time': None, 'end_time': None, 'duration': None, 'multiday_date_range': '21-08-2025 - 22-08-2025', 'multiday_appointment_info': '2    
                    Appointments / 2 Days', 'language_pair': 'English to Polish', 'client_name': 'Leeds Combined Court - Crown Court', 'booking_type': 'Crime -  
                    Crown Court | Trial', 'contact_name': 'Daniel Burnett', 'contact_phone': '1133062612', 'meeting_link': None, 'address': 'Leeds Combined Court
                    Centre\n1 Oxford Row Leeds England LS1 3BG', 'travel_distance': 10.04, 'overall_total': 310.04, 'multiday_payments': [{'mja': 'MJA00305275', 
                    'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None, 'pay_sl': 143.0, 'pay_td': 2.02, 'pay_tt': None, 'pay_aep':    
                    10.0, 'pay_ooh': None, 'pay_urg': None}, {'mja': 'MJA00305276', 'booking_date': None, 'start_time': None, 'end_time': None, 'duration': None,
                    'pay_sl': 143.0, 'pay_td': 2.02, 'pay_tt': None, 'pay_aep': 10.0, 'pa...                                                                     
           INFO     Processing MULTIDAY save for MJR ID: MJR00229794                                                                                             
           INFO     Saving 2 MJA payment blocks for MJR MJR00229794.                                                                                             
           INFO     Saved/Updated details for booking MJA00305275                                                                                                
           INFO     Saved/Updated details for booking MJA00305276                                                                                                
           DEBUG    Found hints for MJR MJR00229794: Count=2, Type='Face To Face'                                                                                
           DEBUG    No hint updates needed for MJR MJR00229794.                                                                                                  
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:39:52] DEBUG    Executing second back() command.                                                                                                             
[11:39:54] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00305276)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
[11:39:55] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_113955_211077.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                                    
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00265737, 10:00 to 11:30, English to Polish'                                                   
           DEBUG    MJA Parse (MJA00265737): Extracted MJA ID. Original full desc: 'MJA00265737, 10:00 to 11:30, English to Polish'                              
           DEBUG    MJA Parse (MJA00265737): Parts after MJA ID: ['10:00 to 11:30', 'English to Polish']                                                         
           DEBUG    MJA Parse (MJA00265737): Found Duration in part '10:00 to 11:30'                                                                             
           DEBUG    MJA Parse (MJA00265737): No postcode found, inferred isRemote=1.                                                                             
           DEBUG    MJA Parse (MJA00265737): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00265737): Final parsed data: {'booking_id': 'MJA00265737', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    None, 'start_time_raw': '10:00', 'end_time_raw': '11:30', 'calculated_duration_str': '01:30', 'language_pair': 'English to Polish',          
                    'isRemote': 1, 'original_duration_str': '10:00 to 11:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00265737, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00265737: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00265737 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=673, h=464: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1290, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1908, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2526, h=230: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00293518 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00305276' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00305276 to use as scroll anchor.                                                                                
[11:39:56] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019cef with percent: 0.6                                                             
[11:39:57] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_113957_547228.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:39:58] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:40:00] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00305276)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
[11:40:01] DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 2 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     Selected card MJA00293518 (Status: Normal) to click.                                                                                         
           INFO     Inserted/Updated base booking record for MJA00293518 with card_status: Normal, db_status: pending                                            
           DEBUG    State updated to SECONDARY for session 1 (MJA: MJA00293518, MJR: None, LastProcMJA: MJA00293518)                                             
           INFO     Attempting click on selected card MJA00293518                                                                                                
           INFO     Clicked card MJA00293518                                                                                                                     
[11:40:03] DEBUG    Processor for LIST finished. State Manager Current State: SECONDARY                                                                          
           INFO     --- Executing State: SECONDARY (Fresh List View Flag for LIST state: N/A) ---                                                                
           INFO     Processing State: SECONDARY (Display 4619827259835644672, MJA: MJA00293518)                                                                  
           DEBUG    Secondary page title is displayed.                                                                                                           
           INFO     Confirmed on Secondary Page.                                                                                                                 
           DEBUG    --- Parsing Secondary Page XML Targeting Specific Attributes ---                                                                             
           DEBUG      Found MJR content-desc: "MJR00219902, Face To Face, Appointments : 1"                                                                      
           DEBUG        Extracted MJR ID: MJR00219902                                                                                                            
           DEBUG        Extracted Type Hint: Face To Face                                                                                                        
           DEBUG        Extracted Appt Count: 1                                                                                                                  
           DEBUG      Found MJB ID in text: MJB00231213                                                                                                          
           DEBUG    --- Secondary Page Targeted Extraction Finished: {'mjb_id_raw': 'MJB00231213', 'mjr_id_raw': 'MJR00219902', 'appointment_count_hint': 1,     
                    'type_hint_raw': 'Face To Face'} ---                                                                                                         
           DEBUG    Created directory: xml_capture_base/MJA00293518                                                                                              
           DEBUG    Created directory: xml_capture_base/MJA00293518/Secondary                                                                                    
           INFO     Saved XML dump: xml_capture_base/MJA00293518/Secondary/Secondary_MJA00293518_MJB00231213_20250518_114003_695416.xml                          
           INFO     Extracted from Secondary XML -> MJB: MJB00231213, MJR: MJR00219902, Appt Count: 1, Type Hint: Face To Face                                   
           INFO     Updated secondary IDs & hints for booking MJA00293518                                                                                        
           DEBUG    Attempting to click MJR link element using XPath: //android.view.ViewGroup[@content-desc and starts-with(@content-desc, "MJR00219902")]      
           DEBUG    Clicked MJR link element for MJR00219902.                                                                                                    
[11:40:05] DEBUG    State updated to DETAIL for session 1 (MJA: MJA00293518, MJR: MJR00219902, LastProcMJA: MJA00293518)                                         
           DEBUG    Processor for SECONDARY finished. State Manager Current State: DETAIL                                                                        
           INFO     --- Executing State: DETAIL (Fresh List View Flag for LIST state: N/A) ---                                                                   
           INFO     Processing State: DETAIL (Display 4619827259835644672, MJA: MJA00293518, MJR: MJR00219902)                                                   
           DEBUG    Waiting up to 10s for detail page title: 'Booking #MJR'                                                                                      
[11:40:06] DEBUG    Detail page title is displayed.                                                                                                              
           INFO     Successfully confirmed on Detail Page for MJR MJR00219902                                                                                    
[11:40:07] DEBUG    Header Results: MJR='MJR00219902', Total='£ 88.64', MultiDay=False, LangIdx=4, DateTimeTuple='('28-08-2025 At', '14:00 - 17:00')'            
           INFO     Initial Check: IsMultiday=False, MJR ID='MJR00219902'                                                                                        
           DEBUG    Created directory: xml_capture_base/MJR00219902                                                                                              
           DEBUG    Created directory: xml_capture_base/MJR00219902/Detail_MJR                                                                                   
           INFO     Saved XML dump: xml_capture_base/MJR00219902/Detail_MJR/Detail_MJR_MJR00219902_initial_view_00_20250518_114007_021333.xml                    
           DEBUG    Info block scan range: 5 to 12. Processing 7 items: ["Bradford Magistrates' Court - Crime", 'Bradford Magistrates Court', 'PO Box 187        
                    Bradford England BD1 1JL', "Crime - Magistrates' Court | Trial", 'Ceri Betts', '0', '6.62 Miles']                                            
           DEBUG      Client Name: 'Bradford Magistrates' Court - Crime'                                                                                         
           DEBUG      Address L1: 'Bradford Magistrates Court', L2: 'PO Box 187 Bradford England BD1 1JL'                                                        
           DEBUG      Booking Type: 'Crime - Magistrates' Court | Trial'                                                                                         
           DEBUG      Contact Name: 'Ceri Betts'                                                                                                                 
           DEBUG      Contact Phone: '0'                                                                                                                         
           DEBUG      Distance: '6.62 Miles'                                                                                                                     
           DEBUG    Sanitized 'contact_phone_raw' from '0' to None.                                                                                              
           DEBUG    Finished parsing info block: {'language_pair_raw': 'English to Polish', 'client_name_raw': "Bradford Magistrates' Court - Crime",            
                    'address_line1_raw': 'Bradford Magistrates Court', 'address_line2_raw': 'PO Box 187 Bradford England BD1 1JL', 'booking_type_raw': "Crime -  
                    Magistrates' Court | Trial", 'contact_name_raw': 'Ceri Betts', 'contact_phone_raw': None, 'distance_raw': '6.62 Miles', 'meeting_link_raw':  
                    None}                                                                                                                                        
           INFO     Starting scroll loop for payments...                                                                                                         
           DEBUG    Extracted 1 MJA payment blocks.                                                                                                              
           INFO       Added new MJA block: MJA00293518                                                                                                           
           INFO     Disclaimer found after 0 scrolls.                                                                                                            
           INFO     Consolidating all extracted data...                                                                                                          
           DEBUG    --- Consolidating and Parsing Detail Data ---                                                                                                
           DEBUG    Final Parsed Data Keys: ['is_multiday', 'mjr_id', 'header_total', 'booking_date', 'start_time', 'end_time', 'duration',                      
                    'multiday_date_range', 'multiday_appointment_info', 'language_pair', 'client_name', 'booking_type', 'contact_name', 'contact_phone',         
                    'meeting_link', 'address', 'travel_distance', 'overall_total', 'multiday_payments', 'mja_id', 'day_pay_sl', 'day_pay_td', 'day_pay_tt',      
                    'day_pay_aep', 'day_pay_ooh', 'day_pay_urg', 'day_total', 'notes']                                                                           
           DEBUG    Final Parsed Data (day_total: 88.64): {'is_multiday': 0, 'mjr_id': 'MJR00219902', 'header_total': 88.64, 'booking_date': '28-08-2025',       
                    'start_time': '14:00:00', 'end_time': '17:00:00', 'duration': '03:00', 'multiday_date_range': None, 'multiday_appointment_info': None,       
                    'language_pair': 'English to Polish', 'client_name': "Bradford Magistrates' Court - Crime", 'booking_type': "Crime - Magistrates' Court |    
                    Trial", 'contact_name': 'Ceri Betts', 'contact_phone': None, 'meeting_link': None, 'address': 'Bradford Magistrates Court\nPO Box 187        
                    Bradford England BD1 1JL', 'travel_distance': 6.62, 'overall_total': 88.64, 'multiday_payments': None, 'mja_id': 'MJA00293518', 'day_pay_sl':
                    78.0, 'day_pay_td': 0.64, 'day_pay_tt': None, 'day_pay_aep': 10.0, 'day_pay_ooh': None, 'day_pay_urg': None, 'day_total': 88.64, 'notes':    
                    'Courtroom 03'}...                                                                                                                           
           INFO     Processing SINGLE DAY save for MJA: MJA00293518 (MJR: MJR00219902)                                                                           
           INFO     Saved/Updated details for booking MJA00293518                                                                                                
           INFO     Navigating back to list page (Detail -> Secondary -> List)...                                                                                
           DEBUG    Executing first back() command.                                                                                                              
[11:40:08] DEBUG    Executing second back() command.                                                                                                             
[11:40:10] INFO     Navigation successful: Confirmed back on list page.                                                                                          
           DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for DETAIL finished. State Manager Current State: LIST                                                                             
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: True) ---                                                                    
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: True)                                                                    
           INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_initial_view_00_20250518_114010_938833.xml                            
           DEBUG    List page container is displayed.                                                                                                            
           INFO     Getting list page cards using XML parsing...                                                                                                 
[11:40:11] DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:40:12] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:40:14] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114014_022238.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:40:16] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:40:17] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:40:19] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:40:20] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114020_246376.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:40:22] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:40:23] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:40:25] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:40:26] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114026_214420.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:40:28] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:40:29] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:40:31] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:40:32] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114032_157268.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:40:34] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:40:35] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:40:37] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:40:38] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114038_385673.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:40:40] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:40:41] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:40:43] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:40:44] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114044_521833.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:40:46] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:40:47] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
[11:40:48] DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:40:49] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:40:50] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114050_548804.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
[11:40:51] DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:40:53] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:40:54] DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:40:55] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:40:56] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114056_787798.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:40:57] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:40:59] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:41:00] DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:41:01] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:41:02] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114102_826455.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:41:03] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:41:05] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:41:06] DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:41:08] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:41:09] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114109_166428.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:41:11] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:41:12] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:41:14] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:41:15] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114115_292536.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:41:17] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:41:18] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:41:20] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:41:21] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114121_231952.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:41:23] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:41:24] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:41:26] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:41:27] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114127_122410.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:41:29] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
[11:41:30] DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:41:31] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:41:33] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114133_084681.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:41:35] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
[11:41:36] INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:41:37] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:41:39] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114139_075883.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
           DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:41:41] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
[11:41:42] DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:41:44] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:41:45] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114145_507005.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:41:46] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
[11:41:48] DEBUG    State updated to LIST for session 1 (MJA: None, MJR: None, LastProcMJA: MJA00293518)                                                         
           DEBUG    Processor for LIST finished. State Manager Current State: LIST                                                                               
           INFO     --- Executing State: LIST (Fresh List View Flag for LIST state: False) ---                                                                   
           INFO     Processing State: LIST (Display 4619827259835644672, Initial Entry: False)                                                                   
           INFO     Getting list page cards using XML parsing...                                                                                                 
           DEBUG    List page container is displayed.                                                                                                            
           DEBUG    Found 7 potential card nodes via XPath on XML source (ViewGroup with content-desc).                                                          
           DEBUG    Processing content-desc: 'All'                                                                                                               
           DEBUG    MJA Parse: Starting parsing for desc_str: 'All'                                                                                              
           WARNING  MJA Parse: No MJA ID found in segment: 'All' (Original full desc: 'All')                                                                     
           DEBUG    Processing content-desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305275): Extracted MJA ID. Original full desc: 'MJA00305275, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305275): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305275): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305275): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305275): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305275): Final parsed data: {'booking_id': 'MJA00305275', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305275, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00305276): Extracted MJA ID. Original full desc: 'MJA00305276, LS1 3BG, 10:00 to 16:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00305276): Parts after MJA ID: ['LS1 3BG', '10:00 to 16:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00305276): Found Duration in part '10:00 to 16:00'                                                                             
           DEBUG    MJA Parse (MJA00305276): Found Postcode in part 'LS1 3BG' -> LS1 3BG                                                                         
           DEBUG    MJA Parse (MJA00305276): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00305276): Final parsed data: {'booking_id': 'MJA00305276', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'LS1 3BG', 'start_time_raw': '10:00', 'end_time_raw': '16:00', 'calculated_duration_str': '06:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '10:00 to 16:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00305276, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                                           
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                                          
           DEBUG    MJA Parse (MJA00293518): Extracted MJA ID. Original full desc: 'MJA00293518, BD1 1JL, 14:00 to 17:00, English to Polish'                     
           DEBUG    MJA Parse (MJA00293518): Parts after MJA ID: ['BD1 1JL', '14:00 to 17:00', 'English to Polish']                                              
           DEBUG    MJA Parse (MJA00293518): Found Duration in part '14:00 to 17:00'                                                                             
           DEBUG    MJA Parse (MJA00293518): Found Postcode in part 'BD1 1JL' -> BD1 1JL                                                                         
           DEBUG    MJA Parse (MJA00293518): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00293518): Final parsed data: {'booking_id': 'MJA00293518', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'BD1 1JL', 'start_time_raw': '14:00', 'end_time_raw': '17:00', 'calculated_duration_str': '03:00', 'language_pair': 'English to Polish',     
                    'isRemote': 0, 'original_duration_str': '14:00 to 17:00'}                                                                                    
           DEBUG    Successfully parsed card: MJA00293518, Status: Normal                                                                                        
           DEBUG    Processing content-desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                                          
           DEBUG    MJA Parse: Starting parsing for desc_str: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                                         
           DEBUG    MJA Parse (MJA00267529): Extracted MJA ID. Original full desc: 'MJA00267529, HU17 9EJ, 09:30 to 13:30, English to Polish'                    
           DEBUG    MJA Parse (MJA00267529): Parts after MJA ID: ['HU17 9EJ', '09:30 to 13:30', 'English to Polish']                                             
           DEBUG    MJA Parse (MJA00267529): Found Duration in part '09:30 to 13:30'                                                                             
           DEBUG    MJA Parse (MJA00267529): Found Postcode in part 'HU17 9EJ' -> HU17 9EJ                                                                       
           DEBUG    MJA Parse (MJA00267529): Assigned Language Pair: 'English to Polish' from remaining: ['English to Polish']                                   
           INFO     MJA Parse (MJA00267529): Final parsed data: {'booking_id': 'MJA00267529', 'card_status': <BookingCardStatus.NORMAL: 'Normal'>, 'postcode':   
                    'HU17 9EJ', 'start_time_raw': '09:30', 'end_time_raw': '13:30', 'calculated_duration_str': '04:00', 'language_pair': 'English to Polish',    
                    'isRemote': 0, 'original_duration_str': '09:30 to 13:30'}                                                                                    
           DEBUG    Successfully parsed card: MJA00267529, Status: Normal                                                                                        
           INFO     Successfully extracted data for 4 cards from list page XML source.                                                                           
           INFO     Found data for 4 cards on screen via XML.                                                                                                    
           DEBUG    Card MJA00305275: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305275 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=663, h=390: FullyVis=True (Bounds:449-2543)                                                                
           DEBUG    Card MJA00305276: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00305276 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
[11:41:49] DEBUG    Visibility check for element at y=1207, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00293518: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00293518 already in DUMP_XML_MODE session_clicked_mja_ids. Skipping.                                                                 
           DEBUG    Visibility check for element at y=1825, h=464: FullyVis=True (Bounds:449-2543)                                                               
           DEBUG    Card MJA00267529: Parsed card_status_enum: Normal                                                                                            
           DEBUG    Card MJA00267529 is Normal and unprocessed. Adding to click candidates.                                                                      
           DEBUG    New unprocessed cards were visible on this screen view. Resetting scroll_attempts.                                                           
           INFO     Found 1 'Normal' unprocessed cards for potential click.                                                                                      
           DEBUG    Visibility check for element at y=2443, h=313: FullyVis=False (Bounds:449-2543)                                                              
           DEBUG    Card MJA00267529 (Normal) found but not fully visible for click.                                                                             
           INFO     No suitable (fully visible, clickable) 'Normal' unprocessed cards found.                                                                     
           INFO     No suitable 'Normal' unprocessed card was selected to click on this screen.                                                                  
           INFO     Attempting scroll (current attempt: 1/3)                                                                                                     
           DEBUG    Using anchor 'MJA00293518' for scroll.                                                                                                       
           DEBUG    Scrolling down...                                                                                                                            
           DEBUG    Found element containing MJA00293518 to use as scroll anchor.                                                                                
[11:41:50] DEBUG    Scrolled using elementId: 00000000-0000-0159-ffff-ffff00019ea4 with percent: 0.6                                                             
[11:41:51] INFO     Saved XML dump: xml_capture_base/session_1/MJA_list/MJA_list_session_1_scroll_01_20250518_114151_801241.xml                                  
           DEBUG    Attempting screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png (via                                                 
                    /sdcard/appium_temp_screenshot_4619827259835644672.png)                                                                                      
[11:41:52] DEBUG    Executed: adb shell screencap -d 4619827259835644672 -p /sdcard/appium_temp_screenshot_4619827259835644672.png                               
           DEBUG    Pulling file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                             
           DEBUG    Decoding and saving screenshot to: screenshots/after_scroll_1.png                                                                            
           DEBUG    Removing temporary file from device: /sdcard/appium_temp_screenshot_4619827259835644672.png                                                  
           INFO     Successfully saved screenshot for display 4619827259835644672 to screenshots/after_scroll_1.png                                              
           DEBUG    Waiting after scroll...                                                                                                                      
